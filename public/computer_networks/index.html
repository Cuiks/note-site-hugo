<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1"><meta name="robots" content="noodp"/><title>计算机网络 | </title><meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content=""/>
<meta name="twitter:title" content="计算机网络"/>
<meta name="twitter:description" content=""/><meta name="Description" content="cuiks&#39;s Note"><meta property="og:title" content="计算机网络" />
<meta property="og:description" content="
计算机网络之概述
计算机网络之网络层
计算机网络之传输层
计算机网络之应用层
计算机网络实践
" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cuiks.top/computer_networks/" />
<meta property="og:image" content="https://cuiks.top/logo.png"/>
<meta property="article:published_time" content="2021-05-27T15:25:29+08:00" />
<meta property="article:modified_time" content="2021-05-27T15:25:29+08:00" />
<meta name="application-name" content="Note Site">
<meta name="apple-mobile-web-app-title" content="Note Site"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="icon" href="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://cuiks.top/computer_networks/" /><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css"><link rel="stylesheet" href="/lib/prismjs/prism.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "计算机网络",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/cuiks.top\/computer_networks\/"
        },"genre": "posts","keywords": "计算机网络","wordCount":  649 ,
        "url": "https:\/\/cuiks.top\/computer_networks\/","datePublished": "2021-05-27T15:25:29+08:00","dateModified": "2021-05-27T15:25:29+08:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script>(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header>
    <div class="desktop header" id="header-desktop">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Note Site" class="header-logo logo-svg"><span class="header-title-pre"><i class='fas fa-pencil-alt fa-fw'></i></span>Note Site</a>
            </div>
            <div class="menu">
                <nav>
                    <h2 class="display-hidden">Основная навигация</h2>
                    <ul class="menu-inner"><li>
                            <a class="menu-item" href="/posts/"> Posts </a>
                        </li><li>
                            <a class="menu-item" href="/tags/"> Tags </a>
                        </li><li>
                            <a class="menu-item" href="/about/about"> About </a>
                        </li><li>
                            <a class="menu-item" href="https://github.com/cuiks" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i>  </a>
                        </li></ul>
                </nav><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <span class="svg-icon icon-search"></span>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <span class="svg-icon icon-cancel"></span>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <span class="svg-icon icon-loading"></span>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <span class="svg-icon icon-moon"></span>
                </a>
            </div>
        </div>
    </div><div class="mobile header" id="header-mobile">
        <div class="header-container">
            <div class="header-wrapper">
                <div class="header-title">
                    <a href="/" title="Note Site" class="header-logo"><span class="header-title-pre"><i class='fas fa-pencil-alt fa-fw'></i></span>Note Site</a>
                </div>
                <div class="menu-toggle" id="menu-toggle-mobile">
                    <span></span><span></span><span></span>
                </div>
            </div>
            <div class="menu" id="menu-mobile"><div class="search-wrapper">
                        <div class="search mobile" id="search-mobile">
                            <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                            <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                                <span class="svg-icon icon-search"></span>
                            </a>
                            <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                                <span class="svg-icon icon-cancel"></span>
                            </a>
                            <span class="search-button search-loading" id="search-loading-mobile">
                                <span class="svg-icon icon-loading"></span>
                            </span>
                        </div>
                        <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                            Cancel
                        </a>
                    </div><nav>
                    <h2 class="display-hidden">Основная навигация</h2>
                    <ul><li>
                            <a class="menu-item" href="/posts/" title="">Posts</a>
                        </li><li>
                            <a class="menu-item" href="/tags/" title="">Tags</a>
                        </li><li>
                            <a class="menu-item" href="/about/about" title="">About</a>
                        </li><li>
                            <a class="menu-item" href="https://github.com/cuiks" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i></a>
                        </li></ul>
                </nav>
                <a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <span class="svg-icon icon-moon"></span>
                </a></div>
        </div>
    </div><div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div></header><main class="main">
<div class="container content-article page-toc theme-classic"><div class="toc" id="toc-auto">
            <div class="toc-title">Contents</div>
            <div class="toc-content" id="toc-content-auto"></div>
        </div>

    
    
    <article>
    

        <header class="header-post">

            

            
            <div class="post-title">

                    <div class="post-all-meta">
                        <nav class="breadcrumbs">
    <ol>
        <li><a href="/">Home </a></li><li>计算机网络</li>
    </ol>
</nav>
                        <h1 class="single-title flipInX">计算机网络</h1><div class="post-meta summary-post-meta"><span class="post-meta-date meta-item">
                                <span class="svg-icon icon-clock"></span><time class="timeago" datetime="2021-05-27">2021-05-27</time>
                            </span><span class="post-meta-words meta-item">
                                <span class="svg-icon icon-pencil"></span>649 words
                            </span>
                            <span class="post-meta-reading meta-item">
                                <span class="svg-icon icon-stopwatch"></span>4 minutes
                            </span>
                        </div>

                    </div>

                </div>

                </header>

        <div class="article-post toc-start">

            <div class="content-block content-block-first content-block-position">

                <div class="post single"><div class="details toc" id="toc-static"  data-kept="">
                        <div class="details-summary toc-title">
                            <span>Contents</span>
                        </div>
                        <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#计算机网络之概述篇">计算机网络之概述篇</a>
      <ul>
        <li><a href="#计算机网络的发展简史">计算机网络的发展简史</a>
          <ul>
            <li><a href="#中国互联网发展简史">中国互联网发展简史</a></li>
          </ul>
        </li>
        <li><a href="#层次结构设计的基本原则">层次结构设计的基本原则</a>
          <ul>
            <li><a href="#层次结构设计的基本原则-1">层次结构设计的基本原则</a></li>
            <li><a href="#osi七层模型">OSI七层模型</a></li>
            <li><a href="#tcpip四层模型">TCP/IP四层模型</a></li>
          </ul>
        </li>
        <li><a href="#现代互联网的网络拓扑">现代互联网的网络拓扑</a></li>
        <li><a href="#计算机网络的性能指标">计算机网络的性能指标</a></li>
        <li><a href="#数据链路层概述">数据链路层概述</a></li>
        <li><a href="#数据链路层的差错检测">数据链路层的差错检测</a></li>
        <li><a href="#最大传输单元mtu">最大传输单元MTU</a></li>
        <li><a href="#以太网协议详解">以太网协议详解</a>
          <ul>
            <li><a href="#mac地址">MAC地址</a></li>
            <li><a href="#以太网协议">以太网协议</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#计算机网络之网络层篇">计算机网络之网络层篇</a>
      <ul>
        <li><a href="#ip协议详解">IP协议详解</a>
          <ul>
            <li><a href="#虚拟互联网络">虚拟互联网络</a></li>
            <li><a href="#ip协议">IP协议</a></li>
          </ul>
        </li>
        <li><a href="#ip协议的转发流程">IP协议的转发流程</a>
          <ul>
            <li><a href="#路由表的简介">路由表的简介</a></li>
            <li><a href="#ip协议的转发流程-1">IP协议的转发流程</a></li>
          </ul>
        </li>
        <li><a href="#arp协议与rarp协议">ARP协议与RARP协议</a></li>
        <li><a href="#ip地址的子网划分">IP地址的子网划分</a>
          <ul>
            <li><a href="#分类的ip地址">分类的IP地址</a></li>
            <li><a href="#划分子网">划分子网</a></li>
            <li><a href="#无分类编址cidr">无分类编址CIDR</a></li>
          </ul>
        </li>
        <li><a href="#网络地址转换nat技术">网络地址转换NAT技术</a></li>
        <li><a href="#icmp协议详解">ICMP协议详解</a></li>
        <li><a href="#icmp协议的应用">ICMP协议的应用</a>
          <ul>
            <li><a href="#ping应用">Ping应用</a></li>
            <li><a href="#traceroute应用">Traceroute应用</a></li>
          </ul>
        </li>
        <li><a href="#网络层的路由概述">网络层的路由概述</a></li>
        <li><a href="#内部网络路由协议只rip协议">内部网络路由协议只RIP协议</a>
          <ul>
            <li><a href="#距离矢量dv算法">距离矢量(DV)算法</a></li>
            <li><a href="#rip协议的过程">RIP协议的过程</a></li>
          </ul>
        </li>
        <li><a href="#dijkstra迪杰斯特拉算法">Dijkstra(迪杰斯特拉)算法</a></li>
        <li><a href="#内部网关路由协议之ospf协议">内部网关路由协议之OSPF协议</a>
          <ul>
            <li><a href="#链路状态ls协议">链路状态(LS)协议</a></li>
            <li><a href="#ospf协议的过程">OSPF协议的过程</a></li>
          </ul>
        </li>
        <li><a href="#外部网关路由协议之bgp协议">外部网关路由协议之BGP协议</a></li>
      </ul>
    </li>
    <li><a href="#计算机网络之传输层">计算机网络之传输层</a>
      <ul>
        <li><a href="#udp协议详解">UDP协议详解</a></li>
        <li><a href="#tcp协议详解">TCP协议详解</a></li>
        <li><a href="#可靠传输的基本原理">可靠传输的基本原理</a>
          <ul>
            <li><a href="#停止等待协议">停止等待协议</a></li>
            <li><a href="#连续arq协议">连续ARQ协议</a></li>
          </ul>
        </li>
        <li><a href="#tcp协议的可靠传输">TCP协议的可靠传输</a>
          <ul>
            <li><a href="#tcp的可靠传说基于连续arq协议">TCP的可靠传说基于连续ARQ协议</a></li>
            <li><a href="#tcp的滑动窗口以字节为单位">TCP的滑动窗口以字节为单位</a></li>
          </ul>
        </li>
        <li><a href="#tcp协议的流量控制">TCP协议的流量控制</a></li>
        <li><a href="#tcp协议的拥塞控制">TCP协议的拥塞控制</a>
          <ul>
            <li><a href="#慢启动算法">慢启动算法</a></li>
            <li><a href="#拥塞避免算法">拥塞避免算法</a></li>
          </ul>
        </li>
        <li><a href="#tcp连接的建立">TCP连接的建立</a></li>
        <li><a href="#tcp的释放">TCP的释放</a>
          <ul>
            <li><a href="#等待计时器">等待计时器</a></li>
          </ul>
        </li>
        <li><a href="#套接字与套接字编程">套接字与套接字编程</a></li>
      </ul>
    </li>
    <li><a href="#计算机网络之应用层篇">计算机网络之应用层篇</a>
      <ul>
        <li><a href="#dns详解">DNS详解</a></li>
        <li><a href="#dhcp协议详解">DHCP协议详解</a></li>
        <li><a href="#http协议详解">HTTP协议详解</a></li>
        <li><a href="#http工作的结构">HTTP工作的结构</a></li>
        <li><a href="#https协议详解">HTTPS协议详解</a>
          <ul>
            <li><a href="#加密模型">加密模型</a></li>
            <li><a href="#数字证书">数字证书</a></li>
            <li><a href="#ssl">SSL</a></li>
            <li><a href="#https工作流程">HTTPS工作流程</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#计算机网络实践">计算机网络实践</a>
      <ul>
        <li><a href="#搭建服务基本框架">搭建服务基本框架</a></li>
        <li><a href="#python操作字节序列">Python操作字节序列</a></li>
        <li><a href="#实现ip报文解析器">实现IP报文解析器</a></li>
        <li><a href="#实现udp报文解析器">实现UDP报文解析器</a></li>
        <li><a href="#实现tcp报文解析器">实现TCP报文解析器</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
                    </div><ul>
<li>计算机网络之概述</li>
<li>计算机网络之网络层</li>
<li>计算机网络之传输层</li>
<li>计算机网络之应用层</li>
<li>计算机网络实践</li>
</ul>
<h2 id="计算机网络之概述篇" class="headerLink"><a href="#%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bd%91%e7%bb%9c%e4%b9%8b%e6%a6%82%e8%bf%b0%e7%af%87" class="header-mark"></a>计算机网络之概述篇</h2><h3 id="计算机网络的发展简史" class="headerLink"><a href="#%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bd%91%e7%bb%9c%e7%9a%84%e5%8f%91%e5%b1%95%e7%ae%80%e5%8f%b2" class="header-mark"></a>计算机网络的发展简史</h3><p>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210517202959.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210517202959.png"
         title="20210517202959.png"
    /></p>
<ul>
<li>第一阶段：单个网络ARPANET
<ul>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210517203241.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210517203241.png"
         title="20210517203241.png"
    /></li>
</ul>
</li>
<li>第二阶段：三层结构互联网
<ul>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210517203314.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210517203314.png"
         title="20210517203314.png"
    /></li>
</ul>
</li>
<li>第三阶段：多层次ISP互联网
<ul>
<li>ISP(Internet Service Provider)：网络服务提供商</li>
<li>中国电信、中国移动、中国联通等</li>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210517203540.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210517203540.png"
         title="20210517203540.png"
    /></li>
</ul>
</li>
</ul>
<h4 id="中国互联网发展简史" class="headerLink"><a href="#%e4%b8%ad%e5%9b%bd%e4%ba%92%e8%81%94%e7%bd%91%e5%8f%91%e5%b1%95%e7%ae%80%e5%8f%b2" class="header-mark"></a>中国互联网发展简史</h4><p>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210517204041.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210517204041.png"
         title="20210517204041.png"
    /></p>
<h3 id="层次结构设计的基本原则" class="headerLink"><a href="#%e5%b1%82%e6%ac%a1%e7%bb%93%e6%9e%84%e8%ae%be%e8%ae%a1%e7%9a%84%e5%9f%ba%e6%9c%ac%e5%8e%9f%e5%88%99" class="header-mark"></a>层次结构设计的基本原则</h3><h4 id="层次结构设计的基本原则-1" class="headerLink"><a href="#%e5%b1%82%e6%ac%a1%e7%bb%93%e6%9e%84%e8%ae%be%e8%ae%a1%e7%9a%84%e5%9f%ba%e6%9c%ac%e5%8e%9f%e5%88%99-1" class="header-mark"></a>层次结构设计的基本原则</h4><ul>
<li>
<p>需要考虑的问题（采用分层设计的原因）</p>
<ul>
<li>保证数据通路顺畅</li>
<li>目的计算机状态</li>
<li>识别目的计算机</li>
<li>数据是否错误</li>
</ul>
</li>
<li>
<p>设计原则</p>
<ul>
<li>各层之间相互独立</li>
<li>每一层要有足够的灵活性</li>
<li>各层之间完全解耦</li>
</ul>
</li>
</ul>
<h4 id="osi七层模型" class="headerLink"><a href="#osi%e4%b8%83%e5%b1%82%e6%a8%a1%e5%9e%8b" class="header-mark"></a>OSI七层模型</h4><p>七层模型：</p>
<ul>
<li>应用层
<ul>
<li>为计算机用户提供接口和服务</li>
</ul>
</li>
<li>表示层
<ul>
<li>数据处理（编码解码、加密解密等）</li>
</ul>
</li>
<li>会话层
<ul>
<li>管理（建立、维护、重连）通信会话</li>
</ul>
</li>
<li>传输层
<ul>
<li>管理端到端的通信连接</li>
</ul>
</li>
<li>网络层
<ul>
<li>数据路由（决定数据在网络中的路径）</li>
</ul>
</li>
<li>数据链路层
<ul>
<li>管理相邻节点之间的数据通信</li>
</ul>
</li>
<li>物理层
<ul>
<li>数据通信的光点物理特性</li>
</ul>
</li>
</ul>
<p>other：</p>
<ul>
<li>OSI欲成为全球计算机都遵循的标准</li>
<li>OSI在市场化的过程中困难重重，TCP/IP在全球范围成功运行</li>
<li>OSI最终并没有成为广为使用的标准模型</li>
</ul>
<p>OSI没有广泛推广的原因：</p>
<ul>
<li>OSI的专家缺乏实际经验</li>
<li>OSI标准制定周期过长，按OSI标准生产的设备无法及时进入市场</li>
<li>OSI模型设计的并不合理，一些功能在多层中重复出现</li>
</ul>
<h4 id="tcpip四层模型" class="headerLink"><a href="#tcpip%e5%9b%9b%e5%b1%82%e6%a8%a1%e5%9e%8b" class="header-mark"></a>TCP/IP四层模型</h4><p>四层模型：</p>
<ul>
<li>应用层
<ul>
<li>应用层、表示层、会话层</li>
<li>HTTP、FTP。。。</li>
</ul>
</li>
<li>传输层
<ul>
<li>传输层</li>
<li>TCP、UDP</li>
</ul>
</li>
<li>网络层
<ul>
<li>网络层</li>
<li>IP、ICMP</li>
</ul>
</li>
<li>网络接口层
<ul>
<li>数据链路层、物理层</li>
<li>Ethernet、ARP、RARP</li>
</ul>
</li>
</ul>
<p>数据传输：




    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210517210618.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210517210618.png"
         title="20210517210618.png"
    />




    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210517210821.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210517210821.png"
         title="20210517210821.png"
    /></p>
<h3 id="现代互联网的网络拓扑" class="headerLink"><a href="#%e7%8e%b0%e4%bb%a3%e4%ba%92%e8%81%94%e7%bd%91%e7%9a%84%e7%bd%91%e7%bb%9c%e6%8b%93%e6%89%91" class="header-mark"></a>现代互联网的网络拓扑</h3><p>边缘部分</p>
<p>核心部分</p>
<h3 id="计算机网络的性能指标" class="headerLink"><a href="#%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bd%91%e7%bb%9c%e7%9a%84%e6%80%a7%e8%83%bd%e6%8c%87%e6%a0%87" class="header-mark"></a>计算机网络的性能指标</h3><p>速率： bps=bit/s</p>
<p>时延：</p>
<ul>
<li>发送时延
<ul>
<li>=数据长度(bit)/发送速率(bit/s)</li>
</ul>
</li>
<li>排队时延
<ul>
<li>=传播路径距离/传播速度(bit/s)</li>
</ul>
</li>
<li>传播时延
<ul>
<li>数据包在网络设备中等待被处理的时间</li>
</ul>
</li>
<li>处理时延
<ul>
<li>数据包到达设备或者目的机器被处理所需要的时间</li>
</ul>
</li>
</ul>
<p>总时延 = 发送时延 + 排队时延 + 传播时延 + 处理时延</p>
<p>RTT(Route-Trip Time)</p>
<ul>
<li>表示的是数据报文在端到端通信的来回一次的时间</li>
<li>通常使用ping命令查看RTT</li>
</ul>
<h3 id="数据链路层概述" class="headerLink"><a href="#%e6%95%b0%e6%8d%ae%e9%93%be%e8%b7%af%e5%b1%82%e6%a6%82%e8%bf%b0" class="header-mark"></a>数据链路层概述</h3><ul>
<li>封装成帧
<ul>
<li>“帧”是数据链路层数据的基本单位</li>
<li>发送端在网络层的一段数据前后添加特定标记形成“帧”</li>
<li>接收端根据前后特定标记识别出“帧”</li>
<li>物理层不管是不是“帧”</li>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210518112503.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210518112503.png"
         title="20210518112503.png"
    /></li>
<li>帧首部和尾部是特定的控制字符（特定比特流）
<ul>
<li>首部(SOH)：00000001</li>
<li>尾部(EOT): 00000100</li>
</ul>
</li>
</ul>
</li>
<li>透明传输
<ul>
<li>&ldquo;透明&quot;在计算机领域是一个非常重要的术语</li>
<li>即是控制字符在帧数据中，但要当做不存在的去处理</li>
<li>ESC  转义字符</li>
</ul>
</li>
<li>差错监测
<ul>
<li>物理层只管传=传输比特流，无法控制是否出错</li>
<li>数据链路层负责起“查错检测”的工作</li>
</ul>
</li>
</ul>
<h3 id="数据链路层的差错检测" class="headerLink"><a href="#%e6%95%b0%e6%8d%ae%e9%93%be%e8%b7%af%e5%b1%82%e7%9a%84%e5%b7%ae%e9%94%99%e6%a3%80%e6%b5%8b" class="header-mark"></a>数据链路层的差错检测</h3><ul>
<li>奇偶校验码
<ul>
<li>数据流求和。偶数就在末尾添加0，否则在末尾添加1</li>
<li>出错位数为偶数时，校验不出</li>
</ul>
</li>
<li>循环冗余校验码CRC
<ul>
<li>一种根据串或保存的数据而产生固定位数校验码的方法</li>
<li>检测数据传输或者保存后可能出现的错误生成的数字计算出来并且附加导数据后面</li>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210518134703.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210518134703.png"
         title="20210518134703.png"
    /></li>
<li>计算步骤
<ul>
<li>选定一个用于校验的多项式G(x)，并在数据尾部添加r个0</li>
<li>将添加r个0后的数据，使用模&quot;2&quot;除法除以多项式的位串</li>
<li>得到的余数填充在原数据r个0的位置得到可校验的位串</li>
</ul>
</li>
<li>CRC的错误检测能力与位串的阶数r有关</li>
<li>数据链路层只进行数据的检测，不进行纠正（对于错误的数据，直接丢弃）</li>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210518135325.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210518135325.png"
         title="20210518135325.png"
    /></li>
</ul>
</li>
</ul>
<h3 id="最大传输单元mtu" class="headerLink"><a href="#%e6%9c%80%e5%a4%a7%e4%bc%a0%e8%be%93%e5%8d%95%e5%85%83mtu" class="header-mark"></a>最大传输单元MTU</h3><ul>
<li>MTU(Maximum Transmission Unit)</li>
<li>数据链路层的数据帧也不是无限大的</li>
<li>数据帧长度受MTU限制</li>
<li>数据帧过大或者过小都会影响传输的效率(以太网一般为1500字节)</li>
<li>路径MTU由链路中MTU最小值决定</li>
</ul>
<h3 id="以太网协议详解" class="headerLink"><a href="#%e4%bb%a5%e5%a4%aa%e7%bd%91%e5%8d%8f%e8%ae%ae%e8%af%a6%e8%a7%a3" class="header-mark"></a>以太网协议详解</h3><h4 id="mac地址" class="headerLink"><a href="#mac%e5%9c%b0%e5%9d%80" class="header-mark"></a>MAC地址</h4><ul>
<li>物理地址、硬件地址</li>
<li>每个设备都拥有唯一的MAC地址</li>
<li>MAC地址共48位，使用十六进制表示</li>
</ul>
<h4 id="以太网协议" class="headerLink"><a href="#%e4%bb%a5%e5%a4%aa%e7%bd%91%e5%8d%8f%e8%ae%ae" class="header-mark"></a>以太网协议</h4><ul>
<li>以太网是一种使用广泛的局域网技术</li>
<li>以太网是一种应用于数据链路层的协议</li>
<li>使用以太网可以完成相邻设备的数据帧传输
<ul>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210518172545.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210518172545.png"
         title="20210518172545.png"
    /></li>
</ul>
</li>
<li>MAC地址表
<ul>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210518172640.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210518172640.png"
         title="20210518172640.png"
    /></li>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210518172808.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210518172808.png"
         title="20210518172808.png"
    /></li>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210518172900.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210518172900.png"
         title="20210518172900.png"
    /></li>
</ul>
</li>
</ul>
<h2 id="计算机网络之网络层篇" class="headerLink"><a href="#%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bd%91%e7%bb%9c%e4%b9%8b%e7%bd%91%e7%bb%9c%e5%b1%82%e7%af%87" class="header-mark"></a>计算机网络之网络层篇</h2><h3 id="ip协议详解" class="headerLink"><a href="#ip%e5%8d%8f%e8%ae%ae%e8%af%a6%e8%a7%a3" class="header-mark"></a>IP协议详解</h3><h4 id="虚拟互联网络" class="headerLink"><a href="#%e8%99%9a%e6%8b%9f%e4%ba%92%e8%81%94%e7%bd%91%e7%bb%9c" class="header-mark"></a>虚拟互联网络</h4><ul>
<li>IP协议是的复杂的实际网络变成一个虚拟互联的网络</li>
<li>IP协议是的网络层可以屏蔽底层细节而专注网络层的数据转发</li>
<li>IP协议解决了在虚拟网络中数据报传输路径的问题</li>
</ul>
<h4 id="ip协议" class="headerLink"><a href="#ip%e5%8d%8f%e8%ae%ae" class="header-mark"></a>IP协议</h4><ul>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519151741.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519151741.png"
         title="20210519151741.png"
    /></li>
<li>长度32位，常分为4个8位</li>
<li>IP地址常使用点分十进制来表示</li>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519152028.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519152028.png"
         title="20210519152028.png"
    /></li>
<li>ip首部
<ul>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519152105.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519152105.png"
         title="20210519152105.png"
    /></li>
<li>版本：占4位，指的是IP协议的版本。即IPV4或IPV6</li>
<li>首部位长度：占4位，表示IP首部长度，即是IP首部最大长度为60字节</li>
<li>总长度，占16位，最大数值25535，表示IP数据报总长度(IP首部+IP数据)</li>
<li>标识</li>
<li>标志</li>
<li>片偏移</li>
<li>TTL：占8位，表明IP数据报文在网络中的寿命，没经过一个设备，TTL减1，当TTL=0时，网络设备必须丢弃该报文</li>
<li>协议：占8位，表明IP数据所携带的具体数据是什么协议的(如：TCP、UDP等)</li>
<li>首部校验和：占16位，校验IP首部是否出错</li>
</ul>
</li>
</ul>
<h3 id="ip协议的转发流程" class="headerLink"><a href="#ip%e5%8d%8f%e8%ae%ae%e7%9a%84%e8%bd%ac%e5%8f%91%e6%b5%81%e7%a8%8b" class="header-mark"></a>IP协议的转发流程</h3><h4 id="路由表的简介" class="headerLink"><a href="#%e8%b7%af%e7%94%b1%e8%a1%a8%e7%9a%84%e7%ae%80%e4%bb%8b" class="header-mark"></a>路由表的简介</h4><p>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519165603.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519165603.png"
         title="20210519165603.png"
    /></p>
<h4 id="ip协议的转发流程-1" class="headerLink"><a href="#ip%e5%8d%8f%e8%ae%ae%e7%9a%84%e8%bd%ac%e5%8f%91%e6%b5%81%e7%a8%8b-1" class="header-mark"></a>IP协议的转发流程</h4><ul>
<li>数据帧每一跳的MAC地址都在变化</li>
<li>IP数据报每一跳的IP地址始终不变</li>
</ul>
<h3 id="arp协议与rarp协议" class="headerLink"><a href="#arp%e5%8d%8f%e8%ae%ae%e4%b8%8erarp%e5%8d%8f%e8%ae%ae" class="header-mark"></a>ARP协议与RARP协议</h3><p>ARP(Address Resoution Protocol)地址解析协议</p>
<ul>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519170705.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519170705.png"
         title="20210519170705.png"
    /></li>
<li>ARP缓存表
<ul>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519170739.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519170739.png"
         title="20210519170739.png"
    /></li>
<li>ARP缓存表是ARP协议和RARP协议运行的关键</li>
<li>ARP缓存表缓存了IP地址到硬件地址之间的映射关系</li>
<li>ARP缓存表中的记录并不是永久有效的，有一定的期限




    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519171328.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519171328.png"
         title="20210519171328.png"
    /></li>
</ul>
</li>
</ul>
<p>RARP(Reverse Address Resolution Protocol)逆地址解析协议




    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519171438.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519171438.png"
         title="20210519171438.png"
    />




    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519171716.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519171716.png"
         title="20210519171716.png"
    /></p>
<ul>
<li>(R)ARP协议是TCP/IP协议栈里面基础的协议</li>
<li>ARP和RARP的操作对程序员是透明的</li>
<li>理解(R)ARP协议有助于理解网络分层的细节</li>
</ul>
<h3 id="ip地址的子网划分" class="headerLink"><a href="#ip%e5%9c%b0%e5%9d%80%e7%9a%84%e5%ad%90%e7%bd%91%e5%88%92%e5%88%86" class="header-mark"></a>IP地址的子网划分</h3><h4 id="分类的ip地址" class="headerLink"><a href="#%e5%88%86%e7%b1%bb%e7%9a%84ip%e5%9c%b0%e5%9d%80" class="header-mark"></a>分类的IP地址</h4><p>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519172536.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519172536.png"
         title="20210519172536.png"
    />




    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519173605.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519173605.png"
         title="20210519173605.png"
    /></p>
<ul>
<li>特殊主机号
<ul>
<li>主机号全0表示当前网络段，不可分配为特定主机</li>
<li>主机号全1表示广播地址，向当前网络段所有主机发消息</li>
</ul>
</li>
<li>特殊网络号
<ul>
<li>A类地址网络段全0(00000000)表示特殊网络</li>
<li>A类地址网络段后7位全1(01111111：127)表示回环地址</li>
<li>B类地址网络段(10000000.00000000：128.0)是不可使用的</li>
<li>C类地址网络段(192.0.0)是不可使用的</li>
</ul>
</li>
<li>127.0.0.1
<ul>
<li>通常被称为本地回环地址(Loopback Address)，不属于任何一个有类别的地址类。</li>
</ul>
</li>
</ul>
<h4 id="划分子网" class="headerLink"><a href="#%e5%88%92%e5%88%86%e5%ad%90%e7%bd%91" class="header-mark"></a>划分子网</h4><p>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519173904.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519173904.png"
         title="20210519173904.png"
    /></p>
<ul>
<li>子网掩码
<ul>
<li>子网掩码和IP地址一样，都是32位</li>
<li>子网掩码由连续的1和连续的0组成</li>
<li>某一个子网的子网掩码具备网络号位数个连续的1</li>
<li>例子
<ul>
<li>A类：255.0.0.0</li>
<li>B类：255.255.0.0</li>
<li>C类：255.255.255.0</li>
</ul>
</li>
<li>用于快速判断IP属于拿一个子网号</li>
</ul>
</li>
</ul>
<h4 id="无分类编址cidr" class="headerLink"><a href="#%e6%97%a0%e5%88%86%e7%b1%bb%e7%bc%96%e5%9d%80cidr" class="header-mark"></a>无分类编址CIDR</h4><ul>
<li>CIDR中没有A、B、C类网络号和子网划分的概念</li>
<li>CIDR吧网络前缀相同的IP地址成为一个&quot;CIDR地址块&rdquo;</li>
<li>斜线记法
<ul>
<li>193.10.10.129/25</li>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519174547.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519174547.png"
         title="20210519174547.png"
    /></li>
</ul>
</li>
</ul>
<h3 id="网络地址转换nat技术" class="headerLink"><a href="#%e7%bd%91%e7%bb%9c%e5%9c%b0%e5%9d%80%e8%bd%ac%e6%8d%a2nat%e6%8a%80%e6%9c%af" class="header-mark"></a>网络地址转换NAT技术</h3><p>背景：</p>
<ul>
<li>IPV4只有40+亿个IP地址</li>
<li>早期IP地址的不合理规划导致IP号浪费</li>
</ul>
<p>内网地址</p>
<ul>
<li>内部机构使用</li>
<li>避免与外网地址重复</li>
<li>三类内网地址
<ul>
<li>10.0.0.0 ~ 10.255.255.255（支持千万数量及设备）</li>
<li>172.16.0.0 ~ 172.31.255.255（支持百万数量级设备）</li>
<li>192.168.0.0 ~ 192.168.255.255（支持万数量级设备）</li>
</ul>
</li>
</ul>
<p>外网地址</p>
<ul>
<li>
<p>全球范围使用</p>
</li>
<li>
<p>全球公网唯一</p>
</li>
<li>
<p>网络地址转换NAT（Network Adress Translation）</p>
</li>
<li>
<p>NAT技术用于多个主机通过一个公有IP访问互联网的</p>
</li>
<li>
<p>NAT减缓了IP地址的消耗，但是增加了网络通信的复杂度</p>
</li>
<li>
<p>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210520103506.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210520103506.png"
         title="20210520103506.png"
    /></p>
</li>
<li></li>
</ul>
<h3 id="icmp协议详解" class="headerLink"><a href="#icmp%e5%8d%8f%e8%ae%ae%e8%af%a6%e8%a7%a3" class="header-mark"></a>ICMP协议详解</h3><ul>
<li>网际控制报文协议(Internet Control Message Protocol)</li>
<li>ICMP协议可以报告错误信息或者异常情况</li>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210520104518.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210520104518.png"
         title="20210520104518.png"
    /></li>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210520111555.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210520111555.png"
         title="20210520111555.png"
    /></li>
</ul>
<p>报文种类</p>
<ul>
<li>差错报告报文
<ul>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210520111733.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210520111733.png"
         title="20210520111733.png"
    /></li>
<li></li>
</ul>
</li>
<li>询问报文
<ul>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210520112422.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210520112422.png"
         title="20210520112422.png"
    /></li>
</ul>
</li>
</ul>
<h3 id="icmp协议的应用" class="headerLink"><a href="#icmp%e5%8d%8f%e8%ae%ae%e7%9a%84%e5%ba%94%e7%94%a8" class="header-mark"></a>ICMP协议的应用</h3><h4 id="ping应用" class="headerLink"><a href="#ping%e5%ba%94%e7%94%a8" class="header-mark"></a>Ping应用</h4><p>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210520112616.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210520112616.png"
         title="20210520112616.png"
    /></p>
<ul>
<li>Ping回环地址127.0.0.1</li>
<li>Ping网关地址</li>
<li>Ping远端地址</li>
</ul>
<h4 id="traceroute应用" class="headerLink"><a href="#traceroute%e5%ba%94%e7%94%a8" class="header-mark"></a>Traceroute应用</h4><ul>
<li>Traceroute可以探测IP数据在网络中走过的路径</li>
<li>Traceroute依次发出TTL加一的报文，获取操作不可达的返回</li>
</ul>
<h3 id="网络层的路由概述" class="headerLink"><a href="#%e7%bd%91%e7%bb%9c%e5%b1%82%e7%9a%84%e8%b7%af%e7%94%b1%e6%a6%82%e8%bf%b0" class="header-mark"></a>网络层的路由概述</h3><p>背景：</p>
<ul>
<li>路由表怎么维护的</li>
<li>下一跳怎么来的</li>
<li>下一跳地址唯一吗</li>
<li>下一跳地址是最佳的吗</li>
<li>路由器这么多，他们怎么协同工作</li>
</ul>
<p>要求：</p>
<ul>
<li>算法是正确的、完整的</li>
<li>算法在计算上应该尽可能的简单</li>
<li>算法可以适应网络中的变化</li>
<li>算法是稳定的和公平的</li>
</ul>
<p>路由算法本质是图的算法</p>
<p>对互联网进行划分</p>
<ul>
<li>互联网的规模是非常大的</li>
<li>互联网的环境是非常复杂的</li>
</ul>
<p>自制系统（Autonomous System）</p>
<ul>
<li>
<p>一个自治系统(AS)是处于一个管理机构下的网络设备群</p>
</li>
<li>
<p>AS内部网络自行管理，AS对外提供一个或者多个出（入）口</p>
</li>
<li>
<p>自治系统内部路由的协议称为：内部网关协议(RIP、OSPF)</p>
</li>
<li>
<p>自治系统外部路由的协议称为：外部网关协议（BGP）</p>
</li>
</ul>
<h3 id="内部网络路由协议只rip协议" class="headerLink"><a href="#%e5%86%85%e9%83%a8%e7%bd%91%e7%bb%9c%e8%b7%af%e7%94%b1%e5%8d%8f%e8%ae%ae%e5%8f%aarip%e5%8d%8f%e8%ae%ae" class="header-mark"></a>内部网络路由协议只RIP协议</h3><h4 id="距离矢量dv算法" class="headerLink"><a href="#%e8%b7%9d%e7%a6%bb%e7%9f%a2%e9%87%8fdv%e7%ae%97%e6%b3%95" class="header-mark"></a>距离矢量(DV)算法</h4><ul>
<li>
<p>每一个节点使用两个向量Di和Si</p>
</li>
<li>
<p>Di描述的是当前节点到别的节点的距离</p>
</li>
<li>
<p>Si描述的是当前节点到别的节点的下一节点</p>
</li>
<li>
<p>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521145503.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521145503.png"
         title="20210521145503.png"
    /></p>
</li>
<li>
<p>每一个节点与相邻的节点交换向量Di和Si的信息</p>
</li>
<li>
<p>每一个节点根据交换的信息更新及的节点信息</p>
</li>
<li>
<p>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521153327.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521153327.png"
         title="20210521153327.png"
    /></p>
</li>
</ul>
<h4 id="rip协议的过程" class="headerLink"><a href="#rip%e5%8d%8f%e8%ae%ae%e7%9a%84%e8%bf%87%e7%a8%8b" class="header-mark"></a>RIP协议的过程</h4><ul>
<li>
<p>RIP(Routing Information Protocol)协议</p>
</li>
<li>
<p>RIP协议是使用DV算法的一中路由协议</p>
</li>
<li>
<p>RIP协议把网络的跳数(hop)作为DV算法的距离</p>
</li>
<li>
<p>RIP协议每隔30秒交换一次路由信息</p>
</li>
<li>
<p>RIP协议认为跳数&gt;15的路由则为不可达路由</p>
</li>
</ul>
<p>RIP协议过程</p>
<ol>
<li>路由器初始化路由信息(两个向量Di和Si)</li>
<li>对相邻路由器X发过来的信息，对信息的内容进行修改（下一跳地址设置为X，所有距离加1）
<ol>
<li>检索本地路由，将信息中新的路由插入到路由表里面
<ul>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521154430.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521154430.png"
         title="20210521154430.png"
    /></li>
</ul>
</li>
<li>检索本地路由，对于下一跳为X的，更新为修改后的信息
<ul>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521154555.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521154555.png"
         title="20210521154555.png"
    /></li>
</ul>
</li>
<li>检索本地路由，对比相同目的地距离，如果新信息的距离更小，则更新本地路由表
<ul>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521154853.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521154853.png"
         title="20210521154853.png"
    /></li>
</ul>
</li>
</ol>
</li>
<li>如果3分钟没有收到相邻的路由信息，则把相邻路由设置为不可达(16跳)</li>
</ol>
<p>RIP协议优点：</p>
<ul>
<li>实现简单，开销很小
RIP协议缺点：</li>
<li>限制了网络的规模</li>
<li>故障消息传递慢，更新收敛时间过长</li>
</ul>
<h3 id="dijkstra迪杰斯特拉算法" class="headerLink"><a href="#dijkstra%e8%bf%aa%e6%9d%b0%e6%96%af%e7%89%b9%e6%8b%89%e7%ae%97%e6%b3%95" class="header-mark"></a>Dijkstra(迪杰斯特拉)算法</h3><ul>
<li>著名的图算法</li>
<li>解决有权图从一个节点到其他节点的最短路径问题</li>
<li>广度优先</li>
</ul>
<p>最短路径问题




    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521160357.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521160357.png"
         title="20210521160357.png"
    /></p>
<h3 id="内部网关路由协议之ospf协议" class="headerLink"><a href="#%e5%86%85%e9%83%a8%e7%bd%91%e5%85%b3%e8%b7%af%e7%94%b1%e5%8d%8f%e8%ae%ae%e4%b9%8bospf%e5%8d%8f%e8%ae%ae" class="header-mark"></a>内部网关路由协议之OSPF协议</h3><h4 id="链路状态ls协议" class="headerLink"><a href="#%e9%93%be%e8%b7%af%e7%8a%b6%e6%80%81ls%e5%8d%8f%e8%ae%ae" class="header-mark"></a>链路状态(LS)协议</h4><ul>
<li>向所有路由器发送信息</li>
<li>消息描述该路由器与相邻路由器的链路状态</li>
<li>只有链路状态发生变化时， 才发送更新信息</li>
</ul>
<h4 id="ospf协议的过程" class="headerLink"><a href="#ospf%e5%8d%8f%e8%ae%ae%e7%9a%84%e8%bf%87%e7%a8%8b" class="header-mark"></a>OSPF协议的过程</h4><ul>
<li>
<p>OSPF(Open Shortest Path First: 开放最短路径优先)</p>
</li>
<li>
<p>OSPF协议的核心是Dijkstra算法</p>
</li>
<li>
<p>向所有的路由器发送消息</p>
<ul>
<li>获得网络中的所有信息 -&gt; 网络的完整拓扑</li>
<li>也称为“链路状态数据库”</li>
<li>“链路状态数据库”是全网一致的</li>
<li>Dijkstra算法</li>
</ul>
</li>
<li>
<p>消息描述该路由器与相邻路由器的链路状态</p>
<ul>
<li>OSPF协议更加客观、更加先进</li>
</ul>
</li>
<li>
<p>只有链路状态发生变化时， 才发送更新信息</p>
<ul>
<li>减少了数据的交换，更快收敛</li>
</ul>
</li>
<li>
<p>五种消息类型</p>
<ul>
<li>问候(Hello)</li>
<li>链路状态数据库描述信息</li>
<li>链路状态请求信息</li>
<li>链路状态更新信息</li>
<li>链路状态确认信息</li>
</ul>
</li>
</ul>
<p>过程：




    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521163210.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521163210.png"
         title="20210521163210.png"
    /></p>
<p>对比：




    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521163242.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521163242.png"
         title="20210521163242.png"
    /></p>
<h3 id="外部网关路由协议之bgp协议" class="headerLink"><a href="#%e5%a4%96%e9%83%a8%e7%bd%91%e5%85%b3%e8%b7%af%e7%94%b1%e5%8d%8f%e8%ae%ae%e4%b9%8bbgp%e5%8d%8f%e8%ae%ae" class="header-mark"></a>外部网关路由协议之BGP协议</h3><ul>
<li>BGP(Border Gateway Protocol: 边际网关协议)</li>
<li>BGP协议是运行在AS之间的一种协议</li>
<li>BGP协议可以找到一条到达目的比较好的路由</li>
</ul>
<p>背景：</p>
<ul>
<li>互联网规模很大</li>
<li>AS内部使用不同的路由协议</li>
<li>AS之间需要考虑网络特性意外的一些因素（政治、安全&hellip;）</li>
</ul>
<p>BGP发言人(speaker)</p>
<ul>
<li>BGP并不关心内部网络拓扑</li>
<li>AS之间通过BGP发言人交流信息</li>
<li>BGP Speaker可以人为配置策略</li>
</ul>
<h2 id="计算机网络之传输层" class="headerLink"><a href="#%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bd%91%e7%bb%9c%e4%b9%8b%e4%bc%a0%e8%be%93%e5%b1%82" class="header-mark"></a>计算机网络之传输层</h2><ul>
<li>使用端口来标记不同的网络进程</li>
<li>端口使用16比特位表示（0~65535）</li>
</ul>
<h3 id="udp协议详解" class="headerLink"><a href="#udp%e5%8d%8f%e8%ae%ae%e8%af%a6%e8%a7%a3" class="header-mark"></a>UDP协议详解</h3><ul>
<li>UDP(User Datagram Protocol:用户数据报协议)</li>
<li>UDP是一个非常简单的协议</li>
</ul>
<p>数据报(Datagram)：</p>
<ul>
<li>不合并 不拆分</li>
</ul>
<p>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521222510.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521222510.png"
         title="20210521222510.png"
    />




    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521223434.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521223434.png"
         title="20210521223434.png"
    /></p>
<p>特点：</p>
<ul>
<li>UDP是无连接协议</li>
<li>UDP不能保证可靠的交付数据</li>
<li>UDP是面向报文传输的</li>
<li>UDP没有拥塞控制</li>
<li>UDP的首部开销很小</li>
</ul>
<h3 id="tcp协议详解" class="headerLink"><a href="#tcp%e5%8d%8f%e8%ae%ae%e8%af%a6%e8%a7%a3" class="header-mark"></a>TCP协议详解</h3><ul>
<li>TCP(Transmission Control Protocol:传输控制协议)</li>
<li>TCP协议是计算机网络中非常复杂的一个协议</li>
</ul>
<p>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521223941.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521223941.png"
         title="20210521223941.png"
    /></p>
<p>特点：</p>
<ul>
<li>TCP是面向连接的协议</li>
<li>TCP的一个连接有两端（点对点通信）</li>
<li>TCP提供可靠的传输服务</li>
<li>TCP协议提供全双工的通信</li>
<li>TCP是面向字节流的协议-</li>
</ul>
<p>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521224357.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521224357.png"
         title="20210521224357.png"
    /></p>
<ul>
<li>序号
<ul>
<li>0 ~ 2^32-1</li>
<li>一个字节一个序号</li>
<li>数据首字节序号</li>
</ul>
</li>
<li>确认号
<ul>
<li>0 ~ 2^32-1</li>
<li>一个字节一个序号</li>
<li>期望收到的首字节序号</li>
</ul>
</li>
<li>数据偏移
<ul>
<li>占4位：0 ~ 15，单位为：32位字</li>
<li>数据偏移首部的距离</li>
</ul>
</li>
<li>TCP标记
<ul>
<li>占6位，每位各有不同意义
<ul>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521224908.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521224908.png"
         title="20210521224908.png"
    /></li>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521224931.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521224931.png"
         title="20210521224931.png"
    /></li>
</ul>
</li>
</ul>
</li>
<li>窗口
<ul>
<li>占16位，0 ~ 2^16-1</li>
<li>窗口指明允许对方发送的数据量</li>
</ul>
</li>
<li>校验和</li>
<li>紧急指针
<ul>
<li>紧急数据（URG=1）</li>
<li>置顶紧急数据在报文的位置</li>
</ul>
</li>
<li>TCP选项
<ul>
<li>最多40字节</li>
<li>支持未来的拓展</li>
</ul>
</li>
</ul>
<h3 id="可靠传输的基本原理" class="headerLink"><a href="#%e5%8f%af%e9%9d%a0%e4%bc%a0%e8%be%93%e7%9a%84%e5%9f%ba%e6%9c%ac%e5%8e%9f%e7%90%86" class="header-mark"></a>可靠传输的基本原理</h3><h4 id="停止等待协议" class="headerLink"><a href="#%e5%81%9c%e6%ad%a2%e7%ad%89%e5%be%85%e5%8d%8f%e8%ae%ae" class="header-mark"></a>停止等待协议</h4><ul>
<li>发送的消息在路上丢失了</li>
<li>确认的消息在路上丢失了</li>
<li>确认的消息很久才到</li>
</ul>
<p>超时定时器</p>
<ul>
<li>
<p>每发送一个消息买都需要设置一个定时器</p>
</li>
<li>
<p>停止等待协议是最简单的可靠传输协议</p>
</li>
<li>
<p>停止等待协议对信道的利用效率不高</p>
</li>
</ul>
<h4 id="连续arq协议" class="headerLink"><a href="#%e8%bf%9e%e7%bb%adarq%e5%8d%8f%e8%ae%ae" class="header-mark"></a>连续ARQ协议</h4><p>ARQ(Automatic Repeat reQuest: 自动重传请求)
- 滑动窗口
- 累计确认</p>
<h3 id="tcp协议的可靠传输" class="headerLink"><a href="#tcp%e5%8d%8f%e8%ae%ae%e7%9a%84%e5%8f%af%e9%9d%a0%e4%bc%a0%e8%be%93" class="header-mark"></a>TCP协议的可靠传输</h3><h4 id="tcp的可靠传说基于连续arq协议" class="headerLink"><a href="#tcp%e7%9a%84%e5%8f%af%e9%9d%a0%e4%bc%a0%e8%af%b4%e5%9f%ba%e4%ba%8e%e8%bf%9e%e7%bb%adarq%e5%8d%8f%e8%ae%ae" class="header-mark"></a>TCP的可靠传说基于连续ARQ协议</h4><ul>
<li>滑动窗口
<ul>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210524172511.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210524172511.png"
         title="20210524172511.png"
    /></li>
</ul>
</li>
<li>选择重传
<ul>
<li>选择重传需要指定需要重传的字节</li>
<li>每一个字节都有唯一的32位序号</li>
<li>需要重传的边界序号存放在TCP首部的“TCP选项”中
<ul>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210524173740.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210524173740.png"
         title="20210524173740.png"
    /></li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="tcp的滑动窗口以字节为单位" class="headerLink"><a href="#tcp%e7%9a%84%e6%bb%91%e5%8a%a8%e7%aa%97%e5%8f%a3%e4%bb%a5%e5%ad%97%e8%8a%82%e4%b8%ba%e5%8d%95%e4%bd%8d" class="header-mark"></a>TCP的滑动窗口以字节为单位</h4><h3 id="tcp协议的流量控制" class="headerLink"><a href="#tcp%e5%8d%8f%e8%ae%ae%e7%9a%84%e6%b5%81%e9%87%8f%e6%8e%a7%e5%88%b6" class="header-mark"></a>TCP协议的流量控制</h3><ul>
<li>流量控制指让发送方发送速率不要太快</li>
<li>流量控制是使用滑动窗口来实现的</li>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210525113649.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210525113649.png"
         title="20210525113649.png"
    /></li>
</ul>
<p>坚持定时器</p>
<ul>
<li>当接收到窗口为0的消息，则启动坚持定时器</li>
<li>坚持定时器每隔一段时间发送一个窗口探测报文</li>
</ul>
<h3 id="tcp协议的拥塞控制" class="headerLink"><a href="#tcp%e5%8d%8f%e8%ae%ae%e7%9a%84%e6%8b%a5%e5%a1%9e%e6%8e%a7%e5%88%b6" class="header-mark"></a>TCP协议的拥塞控制</h3><p>拥塞原因：</p>
<ul>
<li>一条数据链路经过非常多的设备</li>
<li>数据链路中各个部分都有可能成为网络传输的瓶颈</li>
</ul>
<p>和流量控制的区别：</p>
<ul>
<li>流量控制考虑点对点的通信量的控制</li>
<li>拥塞控制考虑整个网络，是全局性的考虑</li>
</ul>
<p>报文超时则认为是拥塞</p>
<h4 id="慢启动算法" class="headerLink"><a href="#%e6%85%a2%e5%90%af%e5%8a%a8%e7%ae%97%e6%b3%95" class="header-mark"></a>慢启动算法</h4><ul>
<li>由小到大逐渐增加发送数据量</li>
<li>每收到一个报文确认，就加一
<ul>
<li>指数增长</li>
</ul>
</li>
<li>慢启动阈值(ssthresh)
<ul>
<li>增长到慢启动阈值不再增长</li>
</ul>
</li>
</ul>
<h4 id="拥塞避免算法" class="headerLink"><a href="#%e6%8b%a5%e5%a1%9e%e9%81%bf%e5%85%8d%e7%ae%97%e6%b3%95" class="header-mark"></a>拥塞避免算法</h4><ul>
<li>维护一个拥塞窗口的变量</li>
<li>只要网络不拥塞，就试探着拥塞窗口调大</li>
</ul>
<p>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210525115024.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210525115024.png"
         title="20210525115024.png"
    /></p>
<h3 id="tcp连接的建立" class="headerLink"><a href="#tcp%e8%bf%9e%e6%8e%a5%e7%9a%84%e5%bb%ba%e7%ab%8b" class="header-mark"></a>TCP连接的建立</h3><p>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210525133143.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210525133143.png"
         title="20210525133143.png"
    /></p>
<p>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210525140052.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210525140052.png"
         title="20210525140052.png"
    /></p>
<p>为什么发送方要发出第三个确认报文呢？</p>
<ul>
<li>已经失效的连接请求报文传送到对方，引起错误</li>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210525140546.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210525140546.png"
         title="20210525140546.png"
    /></li>
</ul>
<h3 id="tcp的释放" class="headerLink"><a href="#tcp%e7%9a%84%e9%87%8a%e6%94%be" class="header-mark"></a>TCP的释放</h3><p>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210525142503.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210525142503.png"
         title="20210525142503.png"
    /></p>
<h4 id="等待计时器" class="headerLink"><a href="#%e7%ad%89%e5%be%85%e8%ae%a1%e6%97%b6%e5%99%a8" class="header-mark"></a>等待计时器</h4><ul>
<li>等待2MSL时间</li>
<li>为什么等待2MSL
<ul>
<li>确保发送方的ACK可以到达接收方
<ul>
<li>2MSL时间内没有收到，则接收方会重发。保证接收方收到了最后一次挥手</li>
</ul>
</li>
<li>确保当前连接的所有报文都已经过期</li>
</ul>
</li>
</ul>
<p>MSL:</p>
<ul>
<li>MSL(Max Segment Lifetime)：最长报文段寿命</li>
<li>MSL建议设置2分钟</li>
</ul>
<h3 id="套接字与套接字编程" class="headerLink"><a href="#%e5%a5%97%e6%8e%a5%e5%ad%97%e4%b8%8e%e5%a5%97%e6%8e%a5%e5%ad%97%e7%bc%96%e7%a8%8b" class="header-mark"></a>套接字与套接字编程</h3><ul>
<li>
<p>使用端口(Port)来标记不同的网络进程</p>
</li>
<li>
<p>端口(Port)使用16比特位表示(0~65535)</p>
</li>
<li>
<p>套接字(Socket)是抽象概念，表示TCP连接的一端</p>
</li>
<li>
<p>通过套接字可以金慈宁宫数据发送或接收</p>
</li>
<li>
<p>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210525143952.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210525143952.png"
         title="20210525143952.png"
    /></p>
</li>
</ul>
<p>套接字编程流程：</p>
<ul>
<li>服务端
<ul>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210525144058.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210525144058.png"
         title="20210525144058.png"
    /></li>
</ul>
</li>
<li>客户端
<ul>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210525144117.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210525144117.png"
         title="20210525144117.png"
    /></li>
</ul>
</li>
</ul>
<p>域套接字和网络套接字</p>
<ul>
<li>Unix域套接字只能用于在同一个计算机的进程间进行通信。但是使用Unix域套接字效率会更高，因为Unix域套接字仅仅进行数据复制，不会执行在网络协议栈中需要处理的添加、删除报文头、计算校验和、计算报文顺序等复杂操作</li>
</ul>
<h2 id="计算机网络之应用层篇" class="headerLink"><a href="#%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bd%91%e7%bb%9c%e4%b9%8b%e5%ba%94%e7%94%a8%e5%b1%82%e7%af%87" class="header-mark"></a>计算机网络之应用层篇</h2><ul>
<li>
<p>传输层及以下提供完整的通信服务</p>
</li>
<li>
<p>应用层是面向用户的一层</p>
</li>
<li>
<p>UDP</p>
<ul>
<li>多媒体信息分发
<ul>
<li>视频</li>
<li>语音</li>
<li>实时信息</li>
</ul>
</li>
</ul>
</li>
<li>
<p>TCP</p>
<ul>
<li>可靠信息传输
<ul>
<li>金融交易</li>
<li>可靠通讯</li>
<li>MQ</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>应用层概述：（定义应用间通信的规则）</p>
<ul>
<li>应用进程的报文类型（请求报文、应答报文）</li>
<li>报文的语法、格式</li>
<li>应用进程发送数据的时机、规则</li>
</ul>
<h3 id="dns详解" class="headerLink"><a href="#dns%e8%af%a6%e8%a7%a3" class="header-mark"></a>DNS详解</h3><p>DNS(Domain Name System:域名系统)</p>
<ul>
<li>把域名转换为IP</li>
<li>UDP协议</li>
</ul>
<p>背景：</p>
<ul>
<li>IP不方便记忆，使用域名帮助记忆</li>
</ul>
<p>域名：</p>
<ul>
<li>域名由点、字母和数字组成</li>
<li>点分割不同的域</li>
<li>域名可以分为顶级域、二级域、三级域</li>
</ul>
<p>域名分级：</p>
<ul>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526135858.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526135858.png"
         title="20210526135858.png"
    /></li>
<li>顶级域：
<ul>
<li>国家
<ul>
<li>cn 中国</li>
<li>uk 英国</li>
<li>us 美国</li>
<li>ca 加拿大</li>
</ul>
</li>
<li>通用
<ul>
<li>com 公司</li>
<li>net 网络服务机构</li>
<li>gov 政府机构</li>
<li>org 组织</li>
</ul>
</li>
</ul>
</li>
<li>二级域</li>
</ul>
<p>域名服务器</p>
<ul>
<li>根域名服务器</li>
<li>顶级域名服务器</li>
<li>域名服务器</li>
</ul>
<p>访问方式：</p>
<ul>
<li>先访问本地DNS服务器，没有的话在向上请求</li>
</ul>
<p>DNS查询方式：</p>
<ul>
<li>递归查询
<ul>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526141611.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526141611.png"
         title="20210526141611.png"
    /></li>
</ul>
</li>
<li>迭代查询
<ul>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526141636.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526141636.png"
         title="20210526141636.png"
    /></li>
</ul>
</li>
<li>一般来说，域名服务器之间的查询使用迭代查询方式，以免根域名服务器的压力过大。</li>
</ul>
<h3 id="dhcp协议详解" class="headerLink"><a href="#dhcp%e5%8d%8f%e8%ae%ae%e8%af%a6%e8%a7%a3" class="header-mark"></a>DHCP协议详解</h3><ul>
<li>
<p>DHCP(Dynamic Host Configuration Protocol:动态主机设置协议)</p>
</li>
<li>
<p>DHCP是一个局域网协议</p>
</li>
<li>
<p>DHCP是应用UDP协议的应用层协议</p>
</li>
<li>
<p>临时IP</p>
</li>
<li>
<p>租期</p>
</li>
</ul>
<p>工作流程：</p>
<ul>
<li>DHCP服务器监听默认端口：67</li>
<li>主机使用UDP协议广播DHCP发现报文</li>
<li>DHCP服务器发出DHCP提供报文</li>
<li>主机向DHCP服务器发出DHCP请求报文</li>
<li>DHCP服务器回应并提供IP地址</li>
</ul>
<h3 id="http协议详解" class="headerLink"><a href="#http%e5%8d%8f%e8%ae%ae%e8%af%a6%e8%a7%a3" class="header-mark"></a>HTTP协议详解</h3><ul>
<li>HTTP(HyperText Transfer Protocol:超文本传输协议)
<ul>
<li>超文本：带超链接的文本</li>
</ul>
</li>
<li>http(s)://&lt;主机&gt;:&lt;端口&gt;/&lt;路径&gt;</li>
<li>HTTP协议是可靠的数据传输协议</li>
<li>应用TCP协议</li>
</ul>
<p>c/s架构：</p>
<ul>
<li>Web服务器
<ul>
<li>硬件部分</li>
<li>软件部分</li>
<li>请求流程
<ol>
<li>接受客户端连接</li>
<li>接收请求报文</li>
<li>处理请求</li>
<li>访问Web资源</li>
<li>构造应答</li>
<li>发送应答</li>
</ol>
</li>
<li>请求方法
<ul>
<li>GET
<ul>
<li>获取指定的服务端资源</li>
</ul>
</li>
<li>POST
<ul>
<li>提交数据到服务端</li>
</ul>
</li>
<li>DELETE
<ul>
<li>删除指定的服务器资源</li>
</ul>
</li>
<li>UPDATE
<ul>
<li>更新指定的服务端资源</li>
</ul>
</li>
<li>PUT</li>
<li>OPTIONS</li>
<li>PATCH</li>
<li>HEAD</li>
<li>TRACE</li>
</ul>
</li>
<li>指定资源
<ul>
<li>在地址中指定</li>
<li>在请求数据中指定</li>
</ul>
</li>
<li>请求报文
<ul>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526145234.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526145234.png"
         title="20210526145234.png"
    /></li>
</ul>
</li>
<li>应答报文
<ul>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526145246.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526145246.png"
         title="20210526145246.png"
    /></li>
<li>状态码
<ul>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526145437.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526145437.png"
         title="20210526145437.png"
    /></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="http工作的结构" class="headerLink"><a href="#http%e5%b7%a5%e4%bd%9c%e7%9a%84%e7%bb%93%e6%9e%84" class="header-mark"></a>HTTP工作的结构</h3><ul>
<li>Web缓存</li>
<li>Web代理
<ul>
<li>正向代理</li>
<li>反向代理</li>
</ul>
</li>
<li>CDN
<ul>
<li>Content Delivery Network: 内容分发网络</li>
</ul>
</li>
<li>爬虫</li>
</ul>
<h3 id="https协议详解" class="headerLink"><a href="#https%e5%8d%8f%e8%ae%ae%e8%af%a6%e8%a7%a3" class="header-mark"></a>HTTPS协议详解</h3><ul>
<li>HTTP是明文传输的</li>
<li>HTTPS(Secure)是安全的HTTP协议</li>
<li>http(s)://&lt;主机&gt;:&lt;端口443&gt;/&lt;路径&gt;</li>
</ul>
<h4 id="加密模型" class="headerLink"><a href="#%e5%8a%a0%e5%af%86%e6%a8%a1%e5%9e%8b" class="header-mark"></a>加密模型</h4><ul>
<li>对称加密
<ul>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526150151.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526150151.png"
         title="20210526150151.png"
    /></li>
</ul>
</li>
<li>非对称加密
<ul>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526150234.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526150234.png"
         title="20210526150234.png"
    /></li>
<li>A和B是拥有一定数学关系的一组密钥
<ul>
<li>私钥：私钥自己使用，不对外公开</li>
<li>公钥：公钥给大家使用，对外公开</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="数字证书" class="headerLink"><a href="#%e6%95%b0%e5%ad%97%e8%af%81%e4%b9%a6" class="header-mark"></a>数字证书</h4><ul>
<li>数字证书是可信任组织颁发给特定对象的认证
<ul>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526150558.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526150558.png"
         title="20210526150558.png"
    /></li>
</ul>
</li>
</ul>
<h4 id="ssl" class="headerLink"><a href="#ssl" class="header-mark"></a>SSL</h4><ul>
<li>SSL(Secure Socket Layer:安全套接层)
<ul>
<li>数据安全和数据完整</li>
<li>对传输层数据进行加密后传输</li>
</ul>
</li>
</ul>
<h4 id="https工作流程" class="headerLink"><a href="#https%e5%b7%a5%e4%bd%9c%e6%b5%81%e7%a8%8b" class="header-mark"></a>HTTPS工作流程</h4><p>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526150837.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526150837.png"
         title="20210526150837.png"
    /></p>
<ul>
<li>SSL安全参数握手过程
<ul>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526151041.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526151041.png"
         title="20210526151041.png"
    /></li>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526151319.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526151319.png"
         title="20210526151319.png"
    /></li>
<li>综合使用非对称加密
<ul>
<li>随机数3的传递使用非对称加密</li>
<li>秘钥根据随机数1、2、3生成，进行对称加密传输</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="计算机网络实践" class="headerLink"><a href="#%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bd%91%e7%bb%9c%e5%ae%9e%e8%b7%b5" class="header-mark"></a>计算机网络实践</h2><ol>
<li>搭建服务基本框架</li>
<li>python操作字节序列</li>
<li>实现IP报文解析器</li>
<li>实现UDP报文解析器</li>
<li>实现TCP报文解析器</li>
</ol>
<h3 id="搭建服务基本框架" class="headerLink"><a href="#%e6%90%ad%e5%bb%ba%e6%9c%8d%e5%8a%a1%e5%9f%ba%e6%9c%ac%e6%a1%86%e6%9e%b6" class="header-mark"></a>搭建服务基本框架</h3><p>网卡工作模式：</p>
<ul>
<li>混杂模式
<ul>
<li>接受所有经过网卡设备的数据</li>
</ul>
</li>
<li>非混杂模式
<ul>
<li>只接受目的地址指向自己的数据</li>
</ul>
</li>
</ul>
<h3 id="python操作字节序列" class="headerLink"><a href="#python%e6%93%8d%e4%bd%9c%e5%ad%97%e8%8a%82%e5%ba%8f%e5%88%97" class="header-mark"></a>Python操作字节序列</h3><ul>
<li>
<p>字节序</p>
<ul>
<li>255 = 00000000,11111111</li>
<li>大端字节序
<ul>
<li>高位字节放在前面 低位字节放在后面
<ul>
<li>255 = 00000000,11111111</li>
</ul>
</li>
<li>主要用于网络</li>
</ul>
</li>
<li>小端字节序
<ul>
<li>位高字节放在后面，低位字节放在前面
<ul>
<li>255 = 11111111,00000000</li>
</ul>
</li>
<li>主要用于计算机</li>
</ul>
</li>
<li>原因
<ul>
<li>计算机电路先处理低位字节效率比较高</li>
<li>人类习惯读写大端字节序</li>
</ul>
</li>
</ul>
</li>
<li>
<p>格式字符</p>
<ul>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526154338.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526154338.png"
         title="20210526154338.png"
    /></li>
</ul>
</li>
<li>
<p>Python操作字节序列</p>
<ul>
<li>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526154907.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526154907.png"
         title="20210526154907.png"
    /></li>
</ul>
</li>
</ul>
<h3 id="实现ip报文解析器" class="headerLink"><a href="#%e5%ae%9e%e7%8e%b0ip%e6%8a%a5%e6%96%87%e8%a7%a3%e6%9e%90%e5%99%a8" class="header-mark"></a>实现IP报文解析器</h3><p>



    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526155904.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526155904.png"
         title="20210526155904.png"
    /></p>
<p>protocol：




    
<img loading="lazy" decoding="async"
         class="render-image"
         src="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526174642.png"
         alt="https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526174642.png"
         title="20210526174642.png"
    /></p>
<h3 id="实现udp报文解析器" class="headerLink"><a href="#%e5%ae%9e%e7%8e%b0udp%e6%8a%a5%e6%96%87%e8%a7%a3%e6%9e%90%e5%99%a8" class="header-mark"></a>实现UDP报文解析器</h3><h3 id="实现tcp报文解析器" class="headerLink"><a href="#%e5%ae%9e%e7%8e%b0tcp%e6%8a%a5%e6%96%87%e8%a7%a3%e6%9e%90%e5%99%a8" class="header-mark"></a>实现TCP报文解析器</h3><p>代码：https://github.com/Cuiks/review</p></div><footer>
                        <div class="post">


<div class="post-share"></div>






<div class="post-tags"><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" class="tag">计算机网络</a></div></div>
                </footer></div>

        <div id="toc-final"></div>
        </div>

    
    </article>
    <section class="page single comments content-block-position">
        <h1 class="display-hidden">Комментарии</h1><div id="comments"><div id="valine" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://valine.js.org/">Valine</a>.
            </noscript></div></section></div>

</main></div>

        <aside id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="svg-icon icon-arrow-up"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="svg-icon icon-comments-fixed"></i>
            </a>
        </aside><link rel="stylesheet" href="/lib/valine/valine.min.css"><script src="https://cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js"></script><script src="https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js"></script><script src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.37.1/dist/autocomplete.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lunr@2.3.8/lunr.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script><script>window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":10},"comment":{"valine":{"appId":"qawpEGaIhzxE9qCJm9hisTxW-gzGzoHsz","appKey":"FkncojWQwaOzzkHjlvW0vH3b","avatar":"mp","el":"#valine","emojiCDN":"https://cdn.jsdelivr.net/npm/emoji-datasource-google@5.0.1/img/google/64/","emojiMaps":{"100":"1f4af.png","alien":"1f47d.png","anger":"1f4a2.png","angry":"1f620.png","anguished":"1f627.png","astonished":"1f632.png","black_heart":"1f5a4.png","blue_heart":"1f499.png","blush":"1f60a.png","bomb":"1f4a3.png","boom":"1f4a5.png","broken_heart":"1f494.png","brown_heart":"1f90e.png","clown_face":"1f921.png","cold_face":"1f976.png","cold_sweat":"1f630.png","confounded":"1f616.png","confused":"1f615.png","cry":"1f622.png","crying_cat_face":"1f63f.png","cupid":"1f498.png","dash":"1f4a8.png","disappointed":"1f61e.png","disappointed_relieved":"1f625.png","dizzy":"1f4ab.png","dizzy_face":"1f635.png","drooling_face":"1f924.png","exploding_head":"1f92f.png","expressionless":"1f611.png","face_vomiting":"1f92e.png","face_with_cowboy_hat":"1f920.png","face_with_hand_over_mouth":"1f92d.png","face_with_head_bandage":"1f915.png","face_with_monocle":"1f9d0.png","face_with_raised_eyebrow":"1f928.png","face_with_rolling_eyes":"1f644.png","face_with_symbols_on_mouth":"1f92c.png","face_with_thermometer":"1f912.png","fearful":"1f628.png","flushed":"1f633.png","frowning":"1f626.png","ghost":"1f47b.png","gift_heart":"1f49d.png","green_heart":"1f49a.png","grimacing":"1f62c.png","grin":"1f601.png","grinning":"1f600.png","hankey":"1f4a9.png","hear_no_evil":"1f649.png","heart":"2764-fe0f.png","heart_decoration":"1f49f.png","heart_eyes":"1f60d.png","heart_eyes_cat":"1f63b.png","heartbeat":"1f493.png","heartpulse":"1f497.png","heavy_heart_exclamation_mark_ornament":"2763-fe0f.png","hole":"1f573-fe0f.png","hot_face":"1f975.png","hugging_face":"1f917.png","hushed":"1f62f.png","imp":"1f47f.png","innocent":"1f607.png","japanese_goblin":"1f47a.png","japanese_ogre":"1f479.png","joy":"1f602.png","joy_cat":"1f639.png","kiss":"1f48b.png","kissing":"1f617.png","kissing_cat":"1f63d.png","kissing_closed_eyes":"1f61a.png","kissing_heart":"1f618.png","kissing_smiling_eyes":"1f619.png","laughing":"1f606.png","left_speech_bubble":"1f5e8-fe0f.png","love_letter":"1f48c.png","lying_face":"1f925.png","mask":"1f637.png","money_mouth_face":"1f911.png","nauseated_face":"1f922.png","nerd_face":"1f913.png","neutral_face":"1f610.png","no_mouth":"1f636.png","open_mouth":"1f62e.png","orange_heart":"1f9e1.png","partying_face":"1f973.png","pensive":"1f614.png","persevere":"1f623.png","pleading_face":"1f97a.png","pouting_cat":"1f63e.png","purple_heart":"1f49c.png","rage":"1f621.png","relaxed":"263a-fe0f.png","relieved":"1f60c.png","revolving_hearts":"1f49e.png","right_anger_bubble":"1f5ef-fe0f.png","robot_face":"1f916.png","rolling_on_the_floor_laughing":"1f923.png","scream":"1f631.png","scream_cat":"1f640.png","see_no_evil":"1f648.png","shushing_face":"1f92b.png","skull":"1f480.png","skull_and_crossbones":"2620-fe0f.png","sleeping":"1f634.png","sleepy":"1f62a.png","slightly_frowning_face":"1f641.png","slightly_smiling_face":"1f642.png","smile":"1f604.png","smile_cat":"1f638.png","smiley":"1f603.png","smiley_cat":"1f63a.png","smiling_face_with_3_hearts":"1f970.png","smiling_imp":"1f608.png","smirk":"1f60f.png","smirk_cat":"1f63c.png","sneezing_face":"1f927.png","sob":"1f62d.png","space_invader":"1f47e.png","sparkling_heart":"1f496.png","speak_no_evil":"1f64a.png","speech_balloon":"1f4ac.png","star-struck":"1f929.png","stuck_out_tongue":"1f61b.png","stuck_out_tongue_closed_eyes":"1f61d.png","stuck_out_tongue_winking_eye":"1f61c.png","sunglasses":"1f60e.png","sweat":"1f613.png","sweat_drops":"1f4a6.png","sweat_smile":"1f605.png","thinking_face":"1f914.png","thought_balloon":"1f4ad.png","tired_face":"1f62b.png","triumph":"1f624.png","two_hearts":"1f495.png","unamused":"1f612.png","upside_down_face":"1f643.png","weary":"1f629.png","white_frowning_face":"2639-fe0f.png","white_heart":"1f90d.png","wink":"1f609.png","woozy_face":"1f974.png","worried":"1f61f.png","yawning_face":"1f971.png","yellow_heart":"1f49b.png","yum":"1f60b.png","zany_face":"1f92a.png","zipper_mouth_face":"1f910.png","zzz":"1f4a4.png"},"enableQQ":false,"highlight":true,"lang":"en","pageSize":10,"placeholder":"Your comment ...","recordIP":true,"serverURLs":"https://qawpegai.lc-cn-n1-shared.com","visitor":true}},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"lunr"}};</script><script src="/js/theme.min.js"></script></body>
</html>
