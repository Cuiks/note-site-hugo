<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>计算机网络 | Note Site</title><meta name=keywords content="计算机网络"><meta name=description content="计算机网络 - Note Site"><meta name=author content="Cuiks"><link rel=canonical href=https://www.cuiks.top/posts/computer_networks/><meta name=google-site-verification content="XYZabc"><link href=/assets/css/stylesheet.min.e7fdcebb37aa7bdecf8b9159a8b3cab1ba4a084f27d375288d3416558b340888.css integrity="sha256-5/3Ouzeqe97Pi5FZqLPKsbpKCE8n03UojTQWVYs0CIg=" rel="preload stylesheet" as=style><link rel=icon href=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/dingdang-cat-favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/favicon-32x32.png><link rel=apple-touch-icon href=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/dingdangcat-apple-touch-icon.png><link rel=mask-icon href=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/dingdangcat-android-chrome-192x192.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.76.5"><meta property="og:title" content="计算机网络"><meta property="og:description" content><meta property="og:type" content="article"><meta property="og:url" content="https://www.cuiks.top/posts/computer_networks/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-05-27T15:25:29+08:00"><meta property="article:modified_time" content="2021-05-27T15:25:29+08:00"><meta property="og:site_name" content="Note Site"><meta name=twitter:card content="summary"><meta name=twitter:title content="计算机网络"><meta name=twitter:description content><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://www.cuiks.top/posts/"},{"@type":"ListItem","position":3,"name":"计算机网络","item":"https://www.cuiks.top/posts/computer_networks/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"计算机网络","name":"计算机网络","description":"","keywords":["计算机网络"],"articleBody":"计算机网络之概述篇 计算机网络的发展简史  第一阶段：单个网络ARPANET     第二阶段：三层结构互联网     第三阶段：多层次ISP互联网  ISP(Internet Service Provider)：网络服务提供商 中国电信、中国移动、中国联通等     中国互联网发展简史 层次结构设计的基本原则 层次结构设计的基本原则   需要考虑的问题（采用分层设计的原因）\n 保证数据通路顺畅 目的计算机状态 识别目的计算机 数据是否错误    设计原则\n 各层之间相互独立 每一层要有足够的灵活性 各层之间完全解耦    OSI七层模型 七层模型：\n 应用层  为计算机用户提供接口和服务   表示层  数据处理（编码解码、加密解密等）   会话层  管理（建立、维护、重连）通信会话   传输层  管理端到端的通信连接   网络层  数据路由（决定数据在网络中的路径）   数据链路层  管理相邻节点之间的数据通信   物理层  数据通信的光点物理特性    other：\n OSI欲成为全球计算机都遵循的标准 OSI在市场化的过程中困难重重，TCP/IP在全球范围成功运行 OSI最终并没有成为广为使用的标准模型  OSI没有广泛推广的原因：\n OSI的专家缺乏实际经验 OSI标准制定周期过长，按OSI标准生产的设备无法及时进入市场 OSI模型设计的并不合理，一些功能在多层中重复出现  TCP/IP四层模型 四层模型：\n 应用层  应用层、表示层、会话层 HTTP、FTP。。。   传输层  传输层 TCP、UDP   网络层  网络层 IP、ICMP   网络接口层  数据链路层、物理层 Ethernet、ARP、RARP    数据传输： 现代互联网的网络拓扑 边缘部分\n核心部分\n计算机网络的性能指标 速率： bps=bit/s\n时延：\n 发送时延  =数据长度(bit)/发送速率(bit/s)   排队时延  =传播路径距离/传播速度(bit/s)   传播时延  数据包在网络设备中等待被处理的时间   处理时延  数据包到达设备或者目的机器被处理所需要的时间    总时延 = 发送时延 + 排队时延 + 传播时延 + 处理时延\nRTT(Route-Trip Time)\n 表示的是数据报文在端到端通信的来回一次的时间 通常使用ping命令查看RTT  数据链路层概述  封装成帧  “帧”是数据链路层数据的基本单位 发送端在网络层的一段数据前后添加特定标记形成“帧” 接收端根据前后特定标记识别出“帧” 物理层不管是不是“帧”  帧首部和尾部是特定的控制字符（特定比特流）  首部(SOH)：00000001 尾部(EOT): 00000100     透明传输  “透明\"在计算机领域是一个非常重要的术语 即是控制字符在帧数据中，但要当做不存在的去处理 ESC 转义字符   差错监测  物理层只管传=传输比特流，无法控制是否出错 数据链路层负责起“查错检测”的工作    数据链路层的差错检测  奇偶校验码  数据流求和。偶数就在末尾添加0，否则在末尾添加1 出错位数为偶数时，校验不出   循环冗余校验码CRC  一种根据串或保存的数据而产生固定位数校验码的方法 检测数据传输或者保存后可能出现的错误生成的数字计算出来并且附加导数据后面  计算步骤  选定一个用于校验的多项式G(x)，并在数据尾部添加r个0 将添加r个0后的数据，使用模\"2\"除法除以多项式的位串 得到的余数填充在原数据r个0的位置得到可校验的位串   CRC的错误检测能力与位串的阶数r有关 数据链路层只进行数据的检测，不进行纠正（对于错误的数据，直接丢弃）     最大传输单元MTU  MTU(Maximum Transmission Unit) 数据链路层的数据帧也不是无限大的 数据帧长度受MTU限制 数据帧过大或者过小都会影响传输的效率(以太网一般为1500字节) 路径MTU由链路中MTU最小值决定  以太网协议详解 MAC地址  物理地址、硬件地址 每个设备都拥有唯一的MAC地址 MAC地址共48位，使用十六进制表示  以太网协议  以太网是一种使用广泛的局域网技术 以太网是一种应用于数据链路层的协议 使用以太网可以完成相邻设备的数据帧传输     MAC地址表        计算机网络之网络层篇 IP协议详解 虚拟互联网络  IP协议是的复杂的实际网络变成一个虚拟互联的网络 IP协议是的网络层可以屏蔽底层细节而专注网络层的数据转发 IP协议解决了在虚拟网络中数据报传输路径的问题  IP协议   长度32位，常分为4个8位 IP地址常使用点分十进制来表示  ip首部   版本：占4位，指的是IP协议的版本。即IPV4或IPV6 首部位长度：占4位，表示IP首部长度，即是IP首部最大长度为60字节 总长度，占16位，最大数值25535，表示IP数据报总长度(IP首部+IP数据) 标识 标志 片偏移 TTL：占8位，表明IP数据报文在网络中的寿命，没经过一个设备，TTL减1，当TTL=0时，网络设备必须丢弃该报文 协议：占8位，表明IP数据所携带的具体数据是什么协议的(如：TCP、UDP等) 首部校验和：占16位，校验IP首部是否出错    IP协议的转发流程 路由表的简介 IP协议的转发流程  数据帧每一跳的MAC地址都在变化 IP数据报每一跳的IP地址始终不变  ARP协议与RARP协议 ARP(Address Resoution Protocol)地址解析协议\n  ARP缓存表   ARP缓存表是ARP协议和RARP协议运行的关键 ARP缓存表缓存了IP地址到硬件地址之间的映射关系 ARP缓存表中的记录并不是永久有效的，有一定的期限     RARP(Reverse Address Resolution Protocol)逆地址解析协议  (R)ARP协议是TCP/IP协议栈里面基础的协议 ARP和RARP的操作对程序员是透明的 理解(R)ARP协议有助于理解网络分层的细节  IP地址的子网划分 分类的IP地址  特殊主机号  主机号全0表示当前网络段，不可分配为特定主机 主机号全1表示广播地址，向当前网络段所有主机发消息   特殊网络号  A类地址网络段全0(00000000)表示特殊网络 A类地址网络段后7位全1(01111111：127)表示回环地址 B类地址网络段(10000000.00000000：128.0)是不可使用的 C类地址网络段(192.0.0)是不可使用的   127.0.0.1  通常被称为本地回环地址(Loopback Address)，不属于任何一个有类别的地址类。    划分子网  子网掩码  子网掩码和IP地址一样，都是32位 子网掩码由连续的1和连续的0组成 某一个子网的子网掩码具备网络号位数个连续的1 例子  A类：255.0.0.0 B类：255.255.0.0 C类：255.255.255.0   用于快速判断IP属于拿一个子网号    无分类编址CIDR  CIDR中没有A、B、C类网络号和子网划分的概念 CIDR吧网络前缀相同的IP地址成为一个\"CIDR地址块” 斜线记法  193.10.10.129/25     网络地址转换NAT技术 背景：\n IPV4只有40+亿个IP地址 早期IP地址的不合理规划导致IP号浪费  内网地址\n 内部机构使用 避免与外网地址重复 三类内网地址  10.0.0.0 ~ 10.255.255.255（支持千万数量及设备） 172.16.0.0 ~ 172.31.255.255（支持百万数量级设备） 192.168.0.0 ~ 192.168.255.255（支持万数量级设备）    外网地址\n  全球范围使用\n  全球公网唯一\n  网络地址转换NAT（Network Adress Translation）\n  NAT技术用于多个主机通过一个公有IP访问互联网的\n  NAT减缓了IP地址的消耗，但是增加了网络通信的复杂度\n     ICMP协议详解  网际控制报文协议(Internet Control Message Protocol) ICMP协议可以报告错误信息或者异常情况    报文种类\n 差错报告报文      询问报文      ICMP协议的应用 Ping应用  Ping回环地址127.0.0.1 Ping网关地址 Ping远端地址  Traceroute应用  Traceroute可以探测IP数据在网络中走过的路径 Traceroute依次发出TTL加一的报文，获取操作不可达的返回  网络层的路由概述 背景：\n 路由表怎么维护的 下一跳怎么来的 下一跳地址唯一吗 下一跳地址是最佳的吗 路由器这么多，他们怎么协同工作  要求：\n 算法是正确的、完整的 算法在计算上应该尽可能的简单 算法可以适应网络中的变化 算法是稳定的和公平的  路由算法本质是图的算法\n对互联网进行划分\n 互联网的规模是非常大的 互联网的环境是非常复杂的  自制系统（Autonomous System）\n  一个自治系统(AS)是处于一个管理机构下的网络设备群\n  AS内部网络自行管理，AS对外提供一个或者多个出（入）口\n  自治系统内部路由的协议称为：内部网关协议(RIP、OSPF)\n  自治系统外部路由的协议称为：外部网关协议（BGP）\n  内部网络路由协议只RIP协议 距离矢量(DV)算法   每一个节点使用两个向量Di和Si\n  Di描述的是当前节点到别的节点的距离\n  Si描述的是当前节点到别的节点的下一节点\n    每一个节点与相邻的节点交换向量Di和Si的信息\n  每一个节点根据交换的信息更新及的节点信息\n    RIP协议的过程   RIP(Routing Information Protocol)协议\n  RIP协议是使用DV算法的一中路由协议\n  RIP协议把网络的跳数(hop)作为DV算法的距离\n  RIP协议每隔30秒交换一次路由信息\n  RIP协议认为跳数15的路由则为不可达路由\n  RIP协议过程\n 路由器初始化路由信息(两个向量Di和Si) 对相邻路由器X发过来的信息，对信息的内容进行修改（下一跳地址设置为X，所有距离加1）  检索本地路由，将信息中新的路由插入到路由表里面     检索本地路由，对于下一跳为X的，更新为修改后的信息     检索本地路由，对比相同目的地距离，如果新信息的距离更小，则更新本地路由表       如果3分钟没有收到相邻的路由信息，则把相邻路由设置为不可达(16跳)  RIP协议优点：\n 实现简单，开销很小 RIP协议缺点： 限制了网络的规模 故障消息传递慢，更新收敛时间过长  Dijkstra(迪杰斯特拉)算法  著名的图算法 解决有权图从一个节点到其他节点的最短路径问题 广度优先  最短路径问题 内部网关路由协议之OSPF协议 链路状态(LS)协议  向所有路由器发送信息 消息描述该路由器与相邻路由器的链路状态 只有链路状态发生变化时， 才发送更新信息  OSPF协议的过程   OSPF(Open Shortest Path First: 开放最短路径优先)\n  OSPF协议的核心是Dijkstra算法\n  向所有的路由器发送消息\n 获得网络中的所有信息 - 网络的完整拓扑 也称为“链路状态数据库” “链路状态数据库”是全网一致的 Dijkstra算法    消息描述该路由器与相邻路由器的链路状态\n OSPF协议更加客观、更加先进    只有链路状态发生变化时， 才发送更新信息\n 减少了数据的交换，更快收敛    五种消息类型\n 问候(Hello) 链路状态数据库描述信息 链路状态请求信息 链路状态更新信息 链路状态确认信息    过程： 对比： 外部网关路由协议之BGP协议  BGP(Border Gateway Protocol: 边际网关协议) BGP协议是运行在AS之间的一种协议 BGP协议可以找到一条到达目的比较好的路由  背景：\n 互联网规模很大 AS内部使用不同的路由协议 AS之间需要考虑网络特性意外的一些因素（政治、安全…）  BGP发言人(speaker)\n BGP并不关心内部网络拓扑 AS之间通过BGP发言人交流信息 BGP Speaker可以人为配置策略  计算机网络之传输层  使用端口来标记不同的网络进程 端口使用16比特位表示（0~65535）  UDP协议详解  UDP(User Datagram Protocol:用户数据报协议) UDP是一个非常简单的协议  数据报(Datagram)：\n 不合并 不拆分  特点：\n UDP是无连接协议 UDP不能保证可靠的交付数据 UDP是面向报文传输的 UDP没有拥塞控制 UDP的首部开销很小  TCP协议详解  TCP(Transmission Control Protocol:传输控制协议) TCP协议是计算机网络中非常复杂的一个协议  特点：\n TCP是面向连接的协议 TCP的一个连接有两端（点对点通信） TCP提供可靠的传输服务 TCP协议提供全双工的通信 TCP是面向字节流的协议-   序号  0 ~ 2^32-1 一个字节一个序号 数据首字节序号   确认号  0 ~ 2^32-1 一个字节一个序号 期望收到的首字节序号   数据偏移  占4位：0 ~ 15，单位为：32位字 数据偏移首部的距离   TCP标记  占6位，每位各有不同意义        窗口  占16位，0 ~ 2^16-1 窗口指明允许对方发送的数据量   校验和 紧急指针  紧急数据（URG=1） 置顶紧急数据在报文的位置   TCP选项  最多40字节 支持未来的拓展    可靠传输的基本原理 停止等待协议  发送的消息在路上丢失了 确认的消息在路上丢失了 确认的消息很久才到  超时定时器\n  每发送一个消息买都需要设置一个定时器\n  停止等待协议是最简单的可靠传输协议\n  停止等待协议对信道的利用效率不高\n  连续ARQ协议 ARQ(Automatic Repeat reQuest: 自动重传请求) - 滑动窗口 - 累计确认\nTCP协议的可靠传输 TCP的可靠传说基于连续ARQ协议  滑动窗口     选择重传  选择重传需要指定需要重传的字节 每一个字节都有唯一的32位序号 需要重传的边界序号存放在TCP首部的“TCP选项”中        TCP的滑动窗口以字节为单位 TCP协议的流量控制  流量控制指让发送方发送速率不要太快 流量控制是使用滑动窗口来实现的   坚持定时器\n 当接收到窗口为0的消息，则启动坚持定时器 坚持定时器每隔一段时间发送一个窗口探测报文  TCP协议的拥塞控制 拥塞原因：\n 一条数据链路经过非常多的设备 数据链路中各个部分都有可能成为网络传输的瓶颈  和流量控制的区别：\n 流量控制考虑点对点的通信量的控制 拥塞控制考虑整个网络，是全局性的考虑  报文超时则认为是拥塞\n慢启动算法  由小到大逐渐增加发送数据量 每收到一个报文确认，就加一  指数增长   慢启动阈值(ssthresh)  增长到慢启动阈值不再增长    拥塞避免算法  维护一个拥塞窗口的变量 只要网络不拥塞，就试探着拥塞窗口调大  TCP连接的建立 为什么发送方要发出第三个确认报文呢？\n 已经失效的连接请求报文传送到对方，引起错误   TCP的释放 等待计时器  等待2MSL时间 为什么等待2MSL  确保发送方的ACK可以到达接收方  2MSL时间内没有收到，则接收方会重发。保证接收方收到了最后一次挥手   确保当前连接的所有报文都已经过期    MSL:\n MSL(Max Segment Lifetime)：最长报文段寿命 MSL建议设置2分钟  套接字与套接字编程   使用端口(Port)来标记不同的网络进程\n  端口(Port)使用16比特位表示(0~65535)\n  套接字(Socket)是抽象概念，表示TCP连接的一端\n  通过套接字可以金慈宁宫数据发送或接收\n    套接字编程流程：\n 服务端     客户端      域套接字和网络套接字\n Unix域套接字只能用于在同一个计算机的进程间进行通信。但是使用Unix域套接字效率会更高，因为Unix域套接字仅仅进行数据复制，不会执行在网络协议栈中需要处理的添加、删除报文头、计算校验和、计算报文顺序等复杂操作  计算机网络之应用层篇   传输层及以下提供完整的通信服务\n  应用层是面向用户的一层\n  UDP\n 多媒体信息分发  视频 语音 实时信息      TCP\n 可靠信息传输  金融交易 可靠通讯 MQ      应用层概述：（定义应用间通信的规则）\n 应用进程的报文类型（请求报文、应答报文） 报文的语法、格式 应用进程发送数据的时机、规则  DNS详解 DNS(Domain Name System:域名系统)\n 把域名转换为IP UDP协议  背景：\n IP不方便记忆，使用域名帮助记忆  域名：\n 域名由点、字母和数字组成 点分割不同的域 域名可以分为顶级域、二级域、三级域  域名分级：\n  顶级域：  国家  cn 中国 uk 英国 us 美国 ca 加拿大   通用  com 公司 net 网络服务机构 gov 政府机构 org 组织     二级域  域名服务器\n 根域名服务器 顶级域名服务器 域名服务器  访问方式：\n 先访问本地DNS服务器，没有的话在向上请求  DNS查询方式：\n 递归查询     迭代查询     一般来说，域名服务器之间的查询使用迭代查询方式，以免根域名服务器的压力过大。  DHCP协议详解   DHCP(Dynamic Host Configuration Protocol:动态主机设置协议)\n  DHCP是一个局域网协议\n  DHCP是应用UDP协议的应用层协议\n  临时IP\n  租期\n  工作流程：\n DHCP服务器监听默认端口：67 主机使用UDP协议广播DHCP发现报文 DHCP服务器发出DHCP提供报文 主机向DHCP服务器发出DHCP请求报文 DHCP服务器回应并提供IP地址  HTTP协议详解  HTTP(HyperText Transfer Protocol:超文本传输协议)  超文本：带超链接的文本   http(s)://:/ HTTP协议是可靠的数据传输协议 应用TCP协议  c/s架构：\n Web服务器  硬件部分 软件部分 请求流程  接受客户端连接 接收请求报文 处理请求 访问Web资源 构造应答 发送应答   请求方法  GET  获取指定的服务端资源   POST  提交数据到服务端   DELETE  删除指定的服务器资源   UPDATE  更新指定的服务端资源   PUT OPTIONS PATCH HEAD TRACE   指定资源  在地址中指定 在请求数据中指定   请求报文     应答报文   状态码          HTTP工作的结构  Web缓存 Web代理  正向代理 反向代理   CDN  Content Delivery Network: 内容分发网络   爬虫  HTTPS协议详解  HTTP是明文传输的 HTTPS(Secure)是安全的HTTP协议 http(s)://:/  加密模型  对称加密     非对称加密   A和B是拥有一定数学关系的一组密钥  私钥：私钥自己使用，不对外公开 公钥：公钥给大家使用，对外公开      数字证书  数字证书是可信任组织颁发给特定对象的认证      SSL  SSL(Secure Socket Layer:安全套接层)  数据安全和数据完整 对传输层数据进行加密后传输    HTTPS工作流程  SSL安全参数握手过程    综合使用非对称加密  随机数3的传递使用非对称加密 秘钥根据随机数1、2、3生成，进行对称加密传输      计算机网络实践  搭建服务基本框架 python操作字节序列 实现IP报文解析器 实现UDP报文解析器 实现TCP报文解析器  搭建服务基本框架 网卡工作模式：\n 混杂模式  接受所有经过网卡设备的数据   非混杂模式  只接受目的地址指向自己的数据    Python操作字节序列   字节序\n 255 = 00000000,11111111 大端字节序  高位字节放在前面 低位字节放在后面  255 = 00000000,11111111   主要用于网络   小端字节序  位高字节放在后面，低位字节放在前面  255 = 11111111,00000000   主要用于计算机   原因  计算机电路先处理低位字节效率比较高 人类习惯读写大端字节序      格式字符\n     Python操作字节序列\n     实现IP报文解析器 protocol： 实现UDP报文解析器 实现TCP报文解析器 代码：https://github.com/Cuiks/review\n","wordCount":"670","inLanguage":"en","datePublished":"2021-05-27T15:25:29+08:00","dateModified":"2021-05-27T15:25:29+08:00","author":{"@type":"Person","name":"Cuiks"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.cuiks.top/posts/computer_networks/"},"publisher":{"@type":"Organization","name":"Note Site","logo":{"@type":"ImageObject","url":"https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/favicon.ico"}}}</script></head><body id=top><script>if(localStorage.getItem("pref-theme")==="dark"){document.body.classList.add('dark');}else if(localStorage.getItem("pref-theme")==="light"){document.body.classList.remove('dark')}else if(window.matchMedia('(prefers-color-scheme: dark)').matches){document.body.classList.add('dark');}</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme: #1d1e20;--entry: #2e2e33;--primary: rgba(255, 255, 255, 0.84);--secondary: rgba(255, 255, 255, 0.56);--tertiary: rgba(255, 255, 255, 0.16);--content: rgba(255, 255, 255, 0.74);--hljs-bg: #2e2e33;--code-bg: #37383e;--border: #333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://www.cuiks.top accesskey=h title="Note Site (Alt + H)"><img src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/dingdangcat-apple-touch-icon.png alt=logo aria-label=logo height=35>Note Site</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu onscroll=menu_on_scroll()><li><a href=https://www.cuiks.top/posts/ title=posts><span>posts</span></a></li><li><a href=https://www.cuiks.top/about/about title=about><span>about</span></a></li><li><a href=https://www.cuiks.top/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>计算机网络</h1><div class=post-meta>May 27, 2021&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Cuiks</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><div class=details>Table of Contents</div></summary><div class=inner><ul><li><a href=#%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bd%91%e7%bb%9c%e4%b9%8b%e6%a6%82%e8%bf%b0%e7%af%87 aria-label=计算机网络之概述篇>计算机网络之概述篇</a><ul><li><a href=#%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bd%91%e7%bb%9c%e7%9a%84%e5%8f%91%e5%b1%95%e7%ae%80%e5%8f%b2 aria-label=计算机网络的发展简史>计算机网络的发展简史</a><ul><li><a href=#%e4%b8%ad%e5%9b%bd%e4%ba%92%e8%81%94%e7%bd%91%e5%8f%91%e5%b1%95%e7%ae%80%e5%8f%b2 aria-label=中国互联网发展简史>中国互联网发展简史</a></li></ul></li><li><a href=#%e5%b1%82%e6%ac%a1%e7%bb%93%e6%9e%84%e8%ae%be%e8%ae%a1%e7%9a%84%e5%9f%ba%e6%9c%ac%e5%8e%9f%e5%88%99 aria-label=层次结构设计的基本原则>层次结构设计的基本原则</a><ul><li><a href=#%e5%b1%82%e6%ac%a1%e7%bb%93%e6%9e%84%e8%ae%be%e8%ae%a1%e7%9a%84%e5%9f%ba%e6%9c%ac%e5%8e%9f%e5%88%99-1 aria-label=层次结构设计的基本原则>层次结构设计的基本原则</a></li><li><a href=#osi%e4%b8%83%e5%b1%82%e6%a8%a1%e5%9e%8b aria-label=OSI七层模型>OSI七层模型</a></li><li><a href=#tcpip%e5%9b%9b%e5%b1%82%e6%a8%a1%e5%9e%8b aria-label=TCP/IP四层模型>TCP/IP四层模型</a></li></ul></li><li><a href=#%e7%8e%b0%e4%bb%a3%e4%ba%92%e8%81%94%e7%bd%91%e7%9a%84%e7%bd%91%e7%bb%9c%e6%8b%93%e6%89%91 aria-label=现代互联网的网络拓扑>现代互联网的网络拓扑</a></li><li><a href=#%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bd%91%e7%bb%9c%e7%9a%84%e6%80%a7%e8%83%bd%e6%8c%87%e6%a0%87 aria-label=计算机网络的性能指标>计算机网络的性能指标</a></li><li><a href=#%e6%95%b0%e6%8d%ae%e9%93%be%e8%b7%af%e5%b1%82%e6%a6%82%e8%bf%b0 aria-label=数据链路层概述>数据链路层概述</a></li><li><a href=#%e6%95%b0%e6%8d%ae%e9%93%be%e8%b7%af%e5%b1%82%e7%9a%84%e5%b7%ae%e9%94%99%e6%a3%80%e6%b5%8b aria-label=数据链路层的差错检测>数据链路层的差错检测</a></li><li><a href=#%e6%9c%80%e5%a4%a7%e4%bc%a0%e8%be%93%e5%8d%95%e5%85%83mtu aria-label=最大传输单元MTU>最大传输单元MTU</a></li><li><a href=#%e4%bb%a5%e5%a4%aa%e7%bd%91%e5%8d%8f%e8%ae%ae%e8%af%a6%e8%a7%a3 aria-label=以太网协议详解>以太网协议详解</a><ul><li><a href=#mac%e5%9c%b0%e5%9d%80 aria-label=MAC地址>MAC地址</a></li><li><a href=#%e4%bb%a5%e5%a4%aa%e7%bd%91%e5%8d%8f%e8%ae%ae aria-label=以太网协议>以太网协议</a></li></ul></li></ul></li><li><a href=#%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bd%91%e7%bb%9c%e4%b9%8b%e7%bd%91%e7%bb%9c%e5%b1%82%e7%af%87 aria-label=计算机网络之网络层篇>计算机网络之网络层篇</a><ul><li><a href=#ip%e5%8d%8f%e8%ae%ae%e8%af%a6%e8%a7%a3 aria-label=IP协议详解>IP协议详解</a><ul><li><a href=#%e8%99%9a%e6%8b%9f%e4%ba%92%e8%81%94%e7%bd%91%e7%bb%9c aria-label=虚拟互联网络>虚拟互联网络</a></li><li><a href=#ip%e5%8d%8f%e8%ae%ae aria-label=IP协议>IP协议</a></li></ul></li><li><a href=#ip%e5%8d%8f%e8%ae%ae%e7%9a%84%e8%bd%ac%e5%8f%91%e6%b5%81%e7%a8%8b aria-label=IP协议的转发流程>IP协议的转发流程</a><ul><li><a href=#%e8%b7%af%e7%94%b1%e8%a1%a8%e7%9a%84%e7%ae%80%e4%bb%8b aria-label=路由表的简介>路由表的简介</a></li><li><a href=#ip%e5%8d%8f%e8%ae%ae%e7%9a%84%e8%bd%ac%e5%8f%91%e6%b5%81%e7%a8%8b-1 aria-label=IP协议的转发流程>IP协议的转发流程</a></li></ul></li><li><a href=#arp%e5%8d%8f%e8%ae%ae%e4%b8%8erarp%e5%8d%8f%e8%ae%ae aria-label=ARP协议与RARP协议>ARP协议与RARP协议</a></li><li><a href=#ip%e5%9c%b0%e5%9d%80%e7%9a%84%e5%ad%90%e7%bd%91%e5%88%92%e5%88%86 aria-label=IP地址的子网划分>IP地址的子网划分</a><ul><li><a href=#%e5%88%86%e7%b1%bb%e7%9a%84ip%e5%9c%b0%e5%9d%80 aria-label=分类的IP地址>分类的IP地址</a></li><li><a href=#%e5%88%92%e5%88%86%e5%ad%90%e7%bd%91 aria-label=划分子网>划分子网</a></li><li><a href=#%e6%97%a0%e5%88%86%e7%b1%bb%e7%bc%96%e5%9d%80cidr aria-label=无分类编址CIDR>无分类编址CIDR</a></li></ul></li><li><a href=#%e7%bd%91%e7%bb%9c%e5%9c%b0%e5%9d%80%e8%bd%ac%e6%8d%a2nat%e6%8a%80%e6%9c%af aria-label=网络地址转换NAT技术>网络地址转换NAT技术</a></li><li><a href=#icmp%e5%8d%8f%e8%ae%ae%e8%af%a6%e8%a7%a3 aria-label=ICMP协议详解>ICMP协议详解</a></li><li><a href=#icmp%e5%8d%8f%e8%ae%ae%e7%9a%84%e5%ba%94%e7%94%a8 aria-label=ICMP协议的应用>ICMP协议的应用</a><ul><li><a href=#ping%e5%ba%94%e7%94%a8 aria-label=Ping应用>Ping应用</a></li><li><a href=#traceroute%e5%ba%94%e7%94%a8 aria-label=Traceroute应用>Traceroute应用</a></li></ul></li><li><a href=#%e7%bd%91%e7%bb%9c%e5%b1%82%e7%9a%84%e8%b7%af%e7%94%b1%e6%a6%82%e8%bf%b0 aria-label=网络层的路由概述>网络层的路由概述</a></li><li><a href=#%e5%86%85%e9%83%a8%e7%bd%91%e7%bb%9c%e8%b7%af%e7%94%b1%e5%8d%8f%e8%ae%ae%e5%8f%aarip%e5%8d%8f%e8%ae%ae aria-label=内部网络路由协议只RIP协议>内部网络路由协议只RIP协议</a><ul><li><a href=#%e8%b7%9d%e7%a6%bb%e7%9f%a2%e9%87%8fdv%e7%ae%97%e6%b3%95 aria-label=距离矢量(DV)算法>距离矢量(DV)算法</a></li><li><a href=#rip%e5%8d%8f%e8%ae%ae%e7%9a%84%e8%bf%87%e7%a8%8b aria-label=RIP协议的过程>RIP协议的过程</a></li></ul></li><li><a href=#dijkstra%e8%bf%aa%e6%9d%b0%e6%96%af%e7%89%b9%e6%8b%89%e7%ae%97%e6%b3%95 aria-label=Dijkstra(迪杰斯特拉)算法>Dijkstra(迪杰斯特拉)算法</a></li><li><a href=#%e5%86%85%e9%83%a8%e7%bd%91%e5%85%b3%e8%b7%af%e7%94%b1%e5%8d%8f%e8%ae%ae%e4%b9%8bospf%e5%8d%8f%e8%ae%ae aria-label=内部网关路由协议之OSPF协议>内部网关路由协议之OSPF协议</a><ul><li><a href=#%e9%93%be%e8%b7%af%e7%8a%b6%e6%80%81ls%e5%8d%8f%e8%ae%ae aria-label=链路状态(LS)协议>链路状态(LS)协议</a></li><li><a href=#ospf%e5%8d%8f%e8%ae%ae%e7%9a%84%e8%bf%87%e7%a8%8b aria-label=OSPF协议的过程>OSPF协议的过程</a></li></ul></li><li><a href=#%e5%a4%96%e9%83%a8%e7%bd%91%e5%85%b3%e8%b7%af%e7%94%b1%e5%8d%8f%e8%ae%ae%e4%b9%8bbgp%e5%8d%8f%e8%ae%ae aria-label=外部网关路由协议之BGP协议>外部网关路由协议之BGP协议</a></li></ul></li><li><a href=#%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bd%91%e7%bb%9c%e4%b9%8b%e4%bc%a0%e8%be%93%e5%b1%82 aria-label=计算机网络之传输层>计算机网络之传输层</a><ul><li><a href=#udp%e5%8d%8f%e8%ae%ae%e8%af%a6%e8%a7%a3 aria-label=UDP协议详解>UDP协议详解</a></li><li><a href=#tcp%e5%8d%8f%e8%ae%ae%e8%af%a6%e8%a7%a3 aria-label=TCP协议详解>TCP协议详解</a></li><li><a href=#%e5%8f%af%e9%9d%a0%e4%bc%a0%e8%be%93%e7%9a%84%e5%9f%ba%e6%9c%ac%e5%8e%9f%e7%90%86 aria-label=可靠传输的基本原理>可靠传输的基本原理</a><ul><li><a href=#%e5%81%9c%e6%ad%a2%e7%ad%89%e5%be%85%e5%8d%8f%e8%ae%ae aria-label=停止等待协议>停止等待协议</a></li><li><a href=#%e8%bf%9e%e7%bb%adarq%e5%8d%8f%e8%ae%ae aria-label=连续ARQ协议>连续ARQ协议</a></li></ul></li><li><a href=#tcp%e5%8d%8f%e8%ae%ae%e7%9a%84%e5%8f%af%e9%9d%a0%e4%bc%a0%e8%be%93 aria-label=TCP协议的可靠传输>TCP协议的可靠传输</a><ul><li><a href=#tcp%e7%9a%84%e5%8f%af%e9%9d%a0%e4%bc%a0%e8%af%b4%e5%9f%ba%e4%ba%8e%e8%bf%9e%e7%bb%adarq%e5%8d%8f%e8%ae%ae aria-label=TCP的可靠传说基于连续ARQ协议>TCP的可靠传说基于连续ARQ协议</a></li><li><a href=#tcp%e7%9a%84%e6%bb%91%e5%8a%a8%e7%aa%97%e5%8f%a3%e4%bb%a5%e5%ad%97%e8%8a%82%e4%b8%ba%e5%8d%95%e4%bd%8d aria-label=TCP的滑动窗口以字节为单位>TCP的滑动窗口以字节为单位</a></li></ul></li><li><a href=#tcp%e5%8d%8f%e8%ae%ae%e7%9a%84%e6%b5%81%e9%87%8f%e6%8e%a7%e5%88%b6 aria-label=TCP协议的流量控制>TCP协议的流量控制</a></li><li><a href=#tcp%e5%8d%8f%e8%ae%ae%e7%9a%84%e6%8b%a5%e5%a1%9e%e6%8e%a7%e5%88%b6 aria-label=TCP协议的拥塞控制>TCP协议的拥塞控制</a><ul><li><a href=#%e6%85%a2%e5%90%af%e5%8a%a8%e7%ae%97%e6%b3%95 aria-label=慢启动算法>慢启动算法</a></li><li><a href=#%e6%8b%a5%e5%a1%9e%e9%81%bf%e5%85%8d%e7%ae%97%e6%b3%95 aria-label=拥塞避免算法>拥塞避免算法</a></li></ul></li><li><a href=#tcp%e8%bf%9e%e6%8e%a5%e7%9a%84%e5%bb%ba%e7%ab%8b aria-label=TCP连接的建立>TCP连接的建立</a></li><li><a href=#tcp%e7%9a%84%e9%87%8a%e6%94%be aria-label=TCP的释放>TCP的释放</a><ul><li><a href=#%e7%ad%89%e5%be%85%e8%ae%a1%e6%97%b6%e5%99%a8 aria-label=等待计时器>等待计时器</a></li></ul></li><li><a href=#%e5%a5%97%e6%8e%a5%e5%ad%97%e4%b8%8e%e5%a5%97%e6%8e%a5%e5%ad%97%e7%bc%96%e7%a8%8b aria-label=套接字与套接字编程>套接字与套接字编程</a></li></ul></li><li><a href=#%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bd%91%e7%bb%9c%e4%b9%8b%e5%ba%94%e7%94%a8%e5%b1%82%e7%af%87 aria-label=计算机网络之应用层篇>计算机网络之应用层篇</a><ul><li><a href=#dns%e8%af%a6%e8%a7%a3 aria-label=DNS详解>DNS详解</a></li><li><a href=#dhcp%e5%8d%8f%e8%ae%ae%e8%af%a6%e8%a7%a3 aria-label=DHCP协议详解>DHCP协议详解</a></li><li><a href=#http%e5%8d%8f%e8%ae%ae%e8%af%a6%e8%a7%a3 aria-label=HTTP协议详解>HTTP协议详解</a></li><li><a href=#http%e5%b7%a5%e4%bd%9c%e7%9a%84%e7%bb%93%e6%9e%84 aria-label=HTTP工作的结构>HTTP工作的结构</a></li><li><a href=#https%e5%8d%8f%e8%ae%ae%e8%af%a6%e8%a7%a3 aria-label=HTTPS协议详解>HTTPS协议详解</a><ul><li><a href=#%e5%8a%a0%e5%af%86%e6%a8%a1%e5%9e%8b aria-label=加密模型>加密模型</a></li><li><a href=#%e6%95%b0%e5%ad%97%e8%af%81%e4%b9%a6 aria-label=数字证书>数字证书</a></li><li><a href=#ssl aria-label=SSL>SSL</a></li><li><a href=#https%e5%b7%a5%e4%bd%9c%e6%b5%81%e7%a8%8b aria-label=HTTPS工作流程>HTTPS工作流程</a></li></ul></li></ul></li><li><a href=#%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bd%91%e7%bb%9c%e5%ae%9e%e8%b7%b5 aria-label=计算机网络实践>计算机网络实践</a><ul><li><a href=#%e6%90%ad%e5%bb%ba%e6%9c%8d%e5%8a%a1%e5%9f%ba%e6%9c%ac%e6%a1%86%e6%9e%b6 aria-label=搭建服务基本框架>搭建服务基本框架</a></li><li><a href=#python%e6%93%8d%e4%bd%9c%e5%ad%97%e8%8a%82%e5%ba%8f%e5%88%97 aria-label=Python操作字节序列>Python操作字节序列</a></li><li><a href=#%e5%ae%9e%e7%8e%b0ip%e6%8a%a5%e6%96%87%e8%a7%a3%e6%9e%90%e5%99%a8 aria-label=实现IP报文解析器>实现IP报文解析器</a></li><li><a href=#%e5%ae%9e%e7%8e%b0udp%e6%8a%a5%e6%96%87%e8%a7%a3%e6%9e%90%e5%99%a8 aria-label=实现UDP报文解析器>实现UDP报文解析器</a></li><li><a href=#%e5%ae%9e%e7%8e%b0tcp%e6%8a%a5%e6%96%87%e8%a7%a3%e6%9e%90%e5%99%a8 aria-label=实现TCP报文解析器>实现TCP报文解析器</a></li></ul></li></ul></div></details></div><div class=post-content><h2 id=计算机网络之概述篇>计算机网络之概述篇<a hidden class=anchor aria-hidden=true href=#计算机网络之概述篇>#</a></h2><h3 id=计算机网络的发展简史>计算机网络的发展简史<a hidden class=anchor aria-hidden=true href=#计算机网络的发展简史>#</a></h3><p><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210517202959.png alt></p><ul><li>第一阶段：单个网络ARPANET<ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210517203241.png alt></li></ul></li><li>第二阶段：三层结构互联网<ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210517203314.png alt></li></ul></li><li>第三阶段：多层次ISP互联网<ul><li>ISP(Internet Service Provider)：网络服务提供商</li><li>中国电信、中国移动、中国联通等</li><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210517203540.png alt></li></ul></li></ul><h4 id=中国互联网发展简史>中国互联网发展简史<a hidden class=anchor aria-hidden=true href=#中国互联网发展简史>#</a></h4><p><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210517204041.png alt></p><h3 id=层次结构设计的基本原则>层次结构设计的基本原则<a hidden class=anchor aria-hidden=true href=#层次结构设计的基本原则>#</a></h3><h4 id=层次结构设计的基本原则-1>层次结构设计的基本原则<a hidden class=anchor aria-hidden=true href=#层次结构设计的基本原则-1>#</a></h4><ul><li><p>需要考虑的问题（采用分层设计的原因）</p><ul><li>保证数据通路顺畅</li><li>目的计算机状态</li><li>识别目的计算机</li><li>数据是否错误</li></ul></li><li><p>设计原则</p><ul><li>各层之间相互独立</li><li>每一层要有足够的灵活性</li><li>各层之间完全解耦</li></ul></li></ul><h4 id=osi七层模型>OSI七层模型<a hidden class=anchor aria-hidden=true href=#osi七层模型>#</a></h4><p>七层模型：</p><ul><li>应用层<ul><li>为计算机用户提供接口和服务</li></ul></li><li>表示层<ul><li>数据处理（编码解码、加密解密等）</li></ul></li><li>会话层<ul><li>管理（建立、维护、重连）通信会话</li></ul></li><li>传输层<ul><li>管理端到端的通信连接</li></ul></li><li>网络层<ul><li>数据路由（决定数据在网络中的路径）</li></ul></li><li>数据链路层<ul><li>管理相邻节点之间的数据通信</li></ul></li><li>物理层<ul><li>数据通信的光点物理特性</li></ul></li></ul><p>other：</p><ul><li>OSI欲成为全球计算机都遵循的标准</li><li>OSI在市场化的过程中困难重重，TCP/IP在全球范围成功运行</li><li>OSI最终并没有成为广为使用的标准模型</li></ul><p>OSI没有广泛推广的原因：</p><ul><li>OSI的专家缺乏实际经验</li><li>OSI标准制定周期过长，按OSI标准生产的设备无法及时进入市场</li><li>OSI模型设计的并不合理，一些功能在多层中重复出现</li></ul><h4 id=tcpip四层模型>TCP/IP四层模型<a hidden class=anchor aria-hidden=true href=#tcpip四层模型>#</a></h4><p>四层模型：</p><ul><li>应用层<ul><li>应用层、表示层、会话层</li><li>HTTP、FTP。。。</li></ul></li><li>传输层<ul><li>传输层</li><li>TCP、UDP</li></ul></li><li>网络层<ul><li>网络层</li><li>IP、ICMP</li></ul></li><li>网络接口层<ul><li>数据链路层、物理层</li><li>Ethernet、ARP、RARP</li></ul></li></ul><p>数据传输：
<img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210517210618.png alt>
<img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210517210821.png alt></p><h3 id=现代互联网的网络拓扑>现代互联网的网络拓扑<a hidden class=anchor aria-hidden=true href=#现代互联网的网络拓扑>#</a></h3><p>边缘部分</p><p>核心部分</p><h3 id=计算机网络的性能指标>计算机网络的性能指标<a hidden class=anchor aria-hidden=true href=#计算机网络的性能指标>#</a></h3><p>速率： bps=bit/s</p><p>时延：</p><ul><li>发送时延<ul><li>=数据长度(bit)/发送速率(bit/s)</li></ul></li><li>排队时延<ul><li>=传播路径距离/传播速度(bit/s)</li></ul></li><li>传播时延<ul><li>数据包在网络设备中等待被处理的时间</li></ul></li><li>处理时延<ul><li>数据包到达设备或者目的机器被处理所需要的时间</li></ul></li></ul><p>总时延 = 发送时延 + 排队时延 + 传播时延 + 处理时延</p><p>RTT(Route-Trip Time)</p><ul><li>表示的是数据报文在端到端通信的来回一次的时间</li><li>通常使用ping命令查看RTT</li></ul><h3 id=数据链路层概述>数据链路层概述<a hidden class=anchor aria-hidden=true href=#数据链路层概述>#</a></h3><ul><li>封装成帧<ul><li>“帧”是数据链路层数据的基本单位</li><li>发送端在网络层的一段数据前后添加特定标记形成“帧”</li><li>接收端根据前后特定标记识别出“帧”</li><li>物理层不管是不是“帧”</li><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210518112503.png alt></li><li>帧首部和尾部是特定的控制字符（特定比特流）<ul><li>首部(SOH)：00000001</li><li>尾部(EOT): 00000100</li></ul></li></ul></li><li>透明传输<ul><li>&ldquo;透明"在计算机领域是一个非常重要的术语</li><li>即是控制字符在帧数据中，但要当做不存在的去处理</li><li>ESC 转义字符</li></ul></li><li>差错监测<ul><li>物理层只管传=传输比特流，无法控制是否出错</li><li>数据链路层负责起“查错检测”的工作</li></ul></li></ul><h3 id=数据链路层的差错检测>数据链路层的差错检测<a hidden class=anchor aria-hidden=true href=#数据链路层的差错检测>#</a></h3><ul><li>奇偶校验码<ul><li>数据流求和。偶数就在末尾添加0，否则在末尾添加1</li><li>出错位数为偶数时，校验不出</li></ul></li><li>循环冗余校验码CRC<ul><li>一种根据串或保存的数据而产生固定位数校验码的方法</li><li>检测数据传输或者保存后可能出现的错误生成的数字计算出来并且附加导数据后面</li><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210518134703.png alt></li><li>计算步骤<ul><li>选定一个用于校验的多项式G(x)，并在数据尾部添加r个0</li><li>将添加r个0后的数据，使用模"2"除法除以多项式的位串</li><li>得到的余数填充在原数据r个0的位置得到可校验的位串</li></ul></li><li>CRC的错误检测能力与位串的阶数r有关</li><li>数据链路层只进行数据的检测，不进行纠正（对于错误的数据，直接丢弃）</li><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210518135325.png alt></li></ul></li></ul><h3 id=最大传输单元mtu>最大传输单元MTU<a hidden class=anchor aria-hidden=true href=#最大传输单元mtu>#</a></h3><ul><li>MTU(Maximum Transmission Unit)</li><li>数据链路层的数据帧也不是无限大的</li><li>数据帧长度受MTU限制</li><li>数据帧过大或者过小都会影响传输的效率(以太网一般为1500字节)</li><li>路径MTU由链路中MTU最小值决定</li></ul><h3 id=以太网协议详解>以太网协议详解<a hidden class=anchor aria-hidden=true href=#以太网协议详解>#</a></h3><h4 id=mac地址>MAC地址<a hidden class=anchor aria-hidden=true href=#mac地址>#</a></h4><ul><li>物理地址、硬件地址</li><li>每个设备都拥有唯一的MAC地址</li><li>MAC地址共48位，使用十六进制表示</li></ul><h4 id=以太网协议>以太网协议<a hidden class=anchor aria-hidden=true href=#以太网协议>#</a></h4><ul><li>以太网是一种使用广泛的局域网技术</li><li>以太网是一种应用于数据链路层的协议</li><li>使用以太网可以完成相邻设备的数据帧传输<ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210518172545.png alt></li></ul></li><li>MAC地址表<ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210518172640.png alt></li><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210518172808.png alt></li><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210518172900.png alt></li></ul></li></ul><h2 id=计算机网络之网络层篇>计算机网络之网络层篇<a hidden class=anchor aria-hidden=true href=#计算机网络之网络层篇>#</a></h2><h3 id=ip协议详解>IP协议详解<a hidden class=anchor aria-hidden=true href=#ip协议详解>#</a></h3><h4 id=虚拟互联网络>虚拟互联网络<a hidden class=anchor aria-hidden=true href=#虚拟互联网络>#</a></h4><ul><li>IP协议是的复杂的实际网络变成一个虚拟互联的网络</li><li>IP协议是的网络层可以屏蔽底层细节而专注网络层的数据转发</li><li>IP协议解决了在虚拟网络中数据报传输路径的问题</li></ul><h4 id=ip协议>IP协议<a hidden class=anchor aria-hidden=true href=#ip协议>#</a></h4><ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519151741.png alt></li><li>长度32位，常分为4个8位</li><li>IP地址常使用点分十进制来表示</li><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519152028.png alt></li><li>ip首部<ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519152105.png alt></li><li>版本：占4位，指的是IP协议的版本。即IPV4或IPV6</li><li>首部位长度：占4位，表示IP首部长度，即是IP首部最大长度为60字节</li><li>总长度，占16位，最大数值25535，表示IP数据报总长度(IP首部+IP数据)</li><li>标识</li><li>标志</li><li>片偏移</li><li>TTL：占8位，表明IP数据报文在网络中的寿命，没经过一个设备，TTL减1，当TTL=0时，网络设备必须丢弃该报文</li><li>协议：占8位，表明IP数据所携带的具体数据是什么协议的(如：TCP、UDP等)</li><li>首部校验和：占16位，校验IP首部是否出错</li></ul></li></ul><h3 id=ip协议的转发流程>IP协议的转发流程<a hidden class=anchor aria-hidden=true href=#ip协议的转发流程>#</a></h3><h4 id=路由表的简介>路由表的简介<a hidden class=anchor aria-hidden=true href=#路由表的简介>#</a></h4><p><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519165603.png alt></p><h4 id=ip协议的转发流程-1>IP协议的转发流程<a hidden class=anchor aria-hidden=true href=#ip协议的转发流程-1>#</a></h4><ul><li>数据帧每一跳的MAC地址都在变化</li><li>IP数据报每一跳的IP地址始终不变</li></ul><h3 id=arp协议与rarp协议>ARP协议与RARP协议<a hidden class=anchor aria-hidden=true href=#arp协议与rarp协议>#</a></h3><p>ARP(Address Resoution Protocol)地址解析协议</p><ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519170705.png alt></li><li>ARP缓存表<ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519170739.png alt></li><li>ARP缓存表是ARP协议和RARP协议运行的关键</li><li>ARP缓存表缓存了IP地址到硬件地址之间的映射关系</li><li>ARP缓存表中的记录并不是永久有效的，有一定的期限
<img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519171328.png alt></li></ul></li></ul><p>RARP(Reverse Address Resolution Protocol)逆地址解析协议
<img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519171438.png alt>
<img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519171716.png alt></p><ul><li>(R)ARP协议是TCP/IP协议栈里面基础的协议</li><li>ARP和RARP的操作对程序员是透明的</li><li>理解(R)ARP协议有助于理解网络分层的细节</li></ul><h3 id=ip地址的子网划分>IP地址的子网划分<a hidden class=anchor aria-hidden=true href=#ip地址的子网划分>#</a></h3><h4 id=分类的ip地址>分类的IP地址<a hidden class=anchor aria-hidden=true href=#分类的ip地址>#</a></h4><p><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519172536.png alt>
<img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519173605.png alt></p><ul><li>特殊主机号<ul><li>主机号全0表示当前网络段，不可分配为特定主机</li><li>主机号全1表示广播地址，向当前网络段所有主机发消息</li></ul></li><li>特殊网络号<ul><li>A类地址网络段全0(00000000)表示特殊网络</li><li>A类地址网络段后7位全1(01111111：127)表示回环地址</li><li>B类地址网络段(10000000.00000000：128.0)是不可使用的</li><li>C类地址网络段(192.0.0)是不可使用的</li></ul></li><li>127.0.0.1<ul><li>通常被称为本地回环地址(Loopback Address)，不属于任何一个有类别的地址类。</li></ul></li></ul><h4 id=划分子网>划分子网<a hidden class=anchor aria-hidden=true href=#划分子网>#</a></h4><p><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519173904.png alt></p><ul><li>子网掩码<ul><li>子网掩码和IP地址一样，都是32位</li><li>子网掩码由连续的1和连续的0组成</li><li>某一个子网的子网掩码具备网络号位数个连续的1</li><li>例子<ul><li>A类：255.0.0.0</li><li>B类：255.255.0.0</li><li>C类：255.255.255.0</li></ul></li><li>用于快速判断IP属于拿一个子网号</li></ul></li></ul><h4 id=无分类编址cidr>无分类编址CIDR<a hidden class=anchor aria-hidden=true href=#无分类编址cidr>#</a></h4><ul><li>CIDR中没有A、B、C类网络号和子网划分的概念</li><li>CIDR吧网络前缀相同的IP地址成为一个"CIDR地址块&rdquo;</li><li>斜线记法<ul><li>193.10.10.129/25</li><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210519174547.png alt></li></ul></li></ul><h3 id=网络地址转换nat技术>网络地址转换NAT技术<a hidden class=anchor aria-hidden=true href=#网络地址转换nat技术>#</a></h3><p>背景：</p><ul><li>IPV4只有40+亿个IP地址</li><li>早期IP地址的不合理规划导致IP号浪费</li></ul><p>内网地址</p><ul><li>内部机构使用</li><li>避免与外网地址重复</li><li>三类内网地址<ul><li>10.0.0.0 ~ 10.255.255.255（支持千万数量及设备）</li><li>172.16.0.0 ~ 172.31.255.255（支持百万数量级设备）</li><li>192.168.0.0 ~ 192.168.255.255（支持万数量级设备）</li></ul></li></ul><p>外网地址</p><ul><li><p>全球范围使用</p></li><li><p>全球公网唯一</p></li><li><p>网络地址转换NAT（Network Adress Translation）</p></li><li><p>NAT技术用于多个主机通过一个公有IP访问互联网的</p></li><li><p>NAT减缓了IP地址的消耗，但是增加了网络通信的复杂度</p></li><li><p><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210520103506.png alt></p></li><li></li></ul><h3 id=icmp协议详解>ICMP协议详解<a hidden class=anchor aria-hidden=true href=#icmp协议详解>#</a></h3><ul><li>网际控制报文协议(Internet Control Message Protocol)</li><li>ICMP协议可以报告错误信息或者异常情况</li><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210520104518.png alt></li><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210520111555.png alt></li></ul><p>报文种类</p><ul><li>差错报告报文<ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210520111733.png alt></li><li></li></ul></li><li>询问报文<ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210520112422.png alt></li></ul></li></ul><h3 id=icmp协议的应用>ICMP协议的应用<a hidden class=anchor aria-hidden=true href=#icmp协议的应用>#</a></h3><h4 id=ping应用>Ping应用<a hidden class=anchor aria-hidden=true href=#ping应用>#</a></h4><p><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210520112616.png alt></p><ul><li>Ping回环地址127.0.0.1</li><li>Ping网关地址</li><li>Ping远端地址</li></ul><h4 id=traceroute应用>Traceroute应用<a hidden class=anchor aria-hidden=true href=#traceroute应用>#</a></h4><ul><li>Traceroute可以探测IP数据在网络中走过的路径</li><li>Traceroute依次发出TTL加一的报文，获取操作不可达的返回</li></ul><h3 id=网络层的路由概述>网络层的路由概述<a hidden class=anchor aria-hidden=true href=#网络层的路由概述>#</a></h3><p>背景：</p><ul><li>路由表怎么维护的</li><li>下一跳怎么来的</li><li>下一跳地址唯一吗</li><li>下一跳地址是最佳的吗</li><li>路由器这么多，他们怎么协同工作</li></ul><p>要求：</p><ul><li>算法是正确的、完整的</li><li>算法在计算上应该尽可能的简单</li><li>算法可以适应网络中的变化</li><li>算法是稳定的和公平的</li></ul><p>路由算法本质是图的算法</p><p>对互联网进行划分</p><ul><li>互联网的规模是非常大的</li><li>互联网的环境是非常复杂的</li></ul><p>自制系统（Autonomous System）</p><ul><li><p>一个自治系统(AS)是处于一个管理机构下的网络设备群</p></li><li><p>AS内部网络自行管理，AS对外提供一个或者多个出（入）口</p></li><li><p>自治系统内部路由的协议称为：内部网关协议(RIP、OSPF)</p></li><li><p>自治系统外部路由的协议称为：外部网关协议（BGP）</p></li></ul><h3 id=内部网络路由协议只rip协议>内部网络路由协议只RIP协议<a hidden class=anchor aria-hidden=true href=#内部网络路由协议只rip协议>#</a></h3><h4 id=距离矢量dv算法>距离矢量(DV)算法<a hidden class=anchor aria-hidden=true href=#距离矢量dv算法>#</a></h4><ul><li><p>每一个节点使用两个向量Di和Si</p></li><li><p>Di描述的是当前节点到别的节点的距离</p></li><li><p>Si描述的是当前节点到别的节点的下一节点</p></li><li><p><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521145503.png alt></p></li><li><p>每一个节点与相邻的节点交换向量Di和Si的信息</p></li><li><p>每一个节点根据交换的信息更新及的节点信息</p></li><li><p><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521153327.png alt></p></li></ul><h4 id=rip协议的过程>RIP协议的过程<a hidden class=anchor aria-hidden=true href=#rip协议的过程>#</a></h4><ul><li><p>RIP(Routing Information Protocol)协议</p></li><li><p>RIP协议是使用DV算法的一中路由协议</p></li><li><p>RIP协议把网络的跳数(hop)作为DV算法的距离</p></li><li><p>RIP协议每隔30秒交换一次路由信息</p></li><li><p>RIP协议认为跳数>15的路由则为不可达路由</p></li></ul><p>RIP协议过程</p><ol><li>路由器初始化路由信息(两个向量Di和Si)</li><li>对相邻路由器X发过来的信息，对信息的内容进行修改（下一跳地址设置为X，所有距离加1）<ol><li>检索本地路由，将信息中新的路由插入到路由表里面<ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521154430.png alt></li></ul></li><li>检索本地路由，对于下一跳为X的，更新为修改后的信息<ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521154555.png alt></li></ul></li><li>检索本地路由，对比相同目的地距离，如果新信息的距离更小，则更新本地路由表<ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521154853.png alt></li></ul></li></ol></li><li>如果3分钟没有收到相邻的路由信息，则把相邻路由设置为不可达(16跳)</li></ol><p>RIP协议优点：</p><ul><li>实现简单，开销很小
RIP协议缺点：</li><li>限制了网络的规模</li><li>故障消息传递慢，更新收敛时间过长</li></ul><h3 id=dijkstra迪杰斯特拉算法>Dijkstra(迪杰斯特拉)算法<a hidden class=anchor aria-hidden=true href=#dijkstra迪杰斯特拉算法>#</a></h3><ul><li>著名的图算法</li><li>解决有权图从一个节点到其他节点的最短路径问题</li><li>广度优先</li></ul><p>最短路径问题
<img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521160357.png alt></p><h3 id=内部网关路由协议之ospf协议>内部网关路由协议之OSPF协议<a hidden class=anchor aria-hidden=true href=#内部网关路由协议之ospf协议>#</a></h3><h4 id=链路状态ls协议>链路状态(LS)协议<a hidden class=anchor aria-hidden=true href=#链路状态ls协议>#</a></h4><ul><li>向所有路由器发送信息</li><li>消息描述该路由器与相邻路由器的链路状态</li><li>只有链路状态发生变化时， 才发送更新信息</li></ul><h4 id=ospf协议的过程>OSPF协议的过程<a hidden class=anchor aria-hidden=true href=#ospf协议的过程>#</a></h4><ul><li><p>OSPF(Open Shortest Path First: 开放最短路径优先)</p></li><li><p>OSPF协议的核心是Dijkstra算法</p></li><li><p>向所有的路由器发送消息</p><ul><li>获得网络中的所有信息 -> 网络的完整拓扑</li><li>也称为“链路状态数据库”</li><li>“链路状态数据库”是全网一致的</li><li>Dijkstra算法</li></ul></li><li><p>消息描述该路由器与相邻路由器的链路状态</p><ul><li>OSPF协议更加客观、更加先进</li></ul></li><li><p>只有链路状态发生变化时， 才发送更新信息</p><ul><li>减少了数据的交换，更快收敛</li></ul></li><li><p>五种消息类型</p><ul><li>问候(Hello)</li><li>链路状态数据库描述信息</li><li>链路状态请求信息</li><li>链路状态更新信息</li><li>链路状态确认信息</li></ul></li></ul><p>过程：
<img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521163210.png alt></p><p>对比：
<img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521163242.png alt></p><h3 id=外部网关路由协议之bgp协议>外部网关路由协议之BGP协议<a hidden class=anchor aria-hidden=true href=#外部网关路由协议之bgp协议>#</a></h3><ul><li>BGP(Border Gateway Protocol: 边际网关协议)</li><li>BGP协议是运行在AS之间的一种协议</li><li>BGP协议可以找到一条到达目的比较好的路由</li></ul><p>背景：</p><ul><li>互联网规模很大</li><li>AS内部使用不同的路由协议</li><li>AS之间需要考虑网络特性意外的一些因素（政治、安全&mldr;）</li></ul><p>BGP发言人(speaker)</p><ul><li>BGP并不关心内部网络拓扑</li><li>AS之间通过BGP发言人交流信息</li><li>BGP Speaker可以人为配置策略</li></ul><h2 id=计算机网络之传输层>计算机网络之传输层<a hidden class=anchor aria-hidden=true href=#计算机网络之传输层>#</a></h2><ul><li>使用端口来标记不同的网络进程</li><li>端口使用16比特位表示（0~65535）</li></ul><h3 id=udp协议详解>UDP协议详解<a hidden class=anchor aria-hidden=true href=#udp协议详解>#</a></h3><ul><li>UDP(User Datagram Protocol:用户数据报协议)</li><li>UDP是一个非常简单的协议</li></ul><p>数据报(Datagram)：</p><ul><li>不合并 不拆分</li></ul><p><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521222510.png alt>
<img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521223434.png alt></p><p>特点：</p><ul><li>UDP是无连接协议</li><li>UDP不能保证可靠的交付数据</li><li>UDP是面向报文传输的</li><li>UDP没有拥塞控制</li><li>UDP的首部开销很小</li></ul><h3 id=tcp协议详解>TCP协议详解<a hidden class=anchor aria-hidden=true href=#tcp协议详解>#</a></h3><ul><li>TCP(Transmission Control Protocol:传输控制协议)</li><li>TCP协议是计算机网络中非常复杂的一个协议</li></ul><p><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521223941.png alt></p><p>特点：</p><ul><li>TCP是面向连接的协议</li><li>TCP的一个连接有两端（点对点通信）</li><li>TCP提供可靠的传输服务</li><li>TCP协议提供全双工的通信</li><li>TCP是面向字节流的协议-</li></ul><p><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521224357.png alt></p><ul><li>序号<ul><li>0 ~ 2^32-1</li><li>一个字节一个序号</li><li>数据首字节序号</li></ul></li><li>确认号<ul><li>0 ~ 2^32-1</li><li>一个字节一个序号</li><li>期望收到的首字节序号</li></ul></li><li>数据偏移<ul><li>占4位：0 ~ 15，单位为：32位字</li><li>数据偏移首部的距离</li></ul></li><li>TCP标记<ul><li>占6位，每位各有不同意义<ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521224908.png alt></li><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210521224931.png alt></li></ul></li></ul></li><li>窗口<ul><li>占16位，0 ~ 2^16-1</li><li>窗口指明允许对方发送的数据量</li></ul></li><li>校验和</li><li>紧急指针<ul><li>紧急数据（URG=1）</li><li>置顶紧急数据在报文的位置</li></ul></li><li>TCP选项<ul><li>最多40字节</li><li>支持未来的拓展</li></ul></li></ul><h3 id=可靠传输的基本原理>可靠传输的基本原理<a hidden class=anchor aria-hidden=true href=#可靠传输的基本原理>#</a></h3><h4 id=停止等待协议>停止等待协议<a hidden class=anchor aria-hidden=true href=#停止等待协议>#</a></h4><ul><li>发送的消息在路上丢失了</li><li>确认的消息在路上丢失了</li><li>确认的消息很久才到</li></ul><p>超时定时器</p><ul><li><p>每发送一个消息买都需要设置一个定时器</p></li><li><p>停止等待协议是最简单的可靠传输协议</p></li><li><p>停止等待协议对信道的利用效率不高</p></li></ul><h4 id=连续arq协议>连续ARQ协议<a hidden class=anchor aria-hidden=true href=#连续arq协议>#</a></h4><p>ARQ(Automatic Repeat reQuest: 自动重传请求)
- 滑动窗口
- 累计确认</p><h3 id=tcp协议的可靠传输>TCP协议的可靠传输<a hidden class=anchor aria-hidden=true href=#tcp协议的可靠传输>#</a></h3><h4 id=tcp的可靠传说基于连续arq协议>TCP的可靠传说基于连续ARQ协议<a hidden class=anchor aria-hidden=true href=#tcp的可靠传说基于连续arq协议>#</a></h4><ul><li>滑动窗口<ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210524172511.png alt></li></ul></li><li>选择重传<ul><li>选择重传需要指定需要重传的字节</li><li>每一个字节都有唯一的32位序号</li><li>需要重传的边界序号存放在TCP首部的“TCP选项”中<ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210524173740.png alt></li></ul></li></ul></li></ul><h4 id=tcp的滑动窗口以字节为单位>TCP的滑动窗口以字节为单位<a hidden class=anchor aria-hidden=true href=#tcp的滑动窗口以字节为单位>#</a></h4><h3 id=tcp协议的流量控制>TCP协议的流量控制<a hidden class=anchor aria-hidden=true href=#tcp协议的流量控制>#</a></h3><ul><li>流量控制指让发送方发送速率不要太快</li><li>流量控制是使用滑动窗口来实现的</li><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210525113649.png alt></li></ul><p>坚持定时器</p><ul><li>当接收到窗口为0的消息，则启动坚持定时器</li><li>坚持定时器每隔一段时间发送一个窗口探测报文</li></ul><h3 id=tcp协议的拥塞控制>TCP协议的拥塞控制<a hidden class=anchor aria-hidden=true href=#tcp协议的拥塞控制>#</a></h3><p>拥塞原因：</p><ul><li>一条数据链路经过非常多的设备</li><li>数据链路中各个部分都有可能成为网络传输的瓶颈</li></ul><p>和流量控制的区别：</p><ul><li>流量控制考虑点对点的通信量的控制</li><li>拥塞控制考虑整个网络，是全局性的考虑</li></ul><p>报文超时则认为是拥塞</p><h4 id=慢启动算法>慢启动算法<a hidden class=anchor aria-hidden=true href=#慢启动算法>#</a></h4><ul><li>由小到大逐渐增加发送数据量</li><li>每收到一个报文确认，就加一<ul><li>指数增长</li></ul></li><li>慢启动阈值(ssthresh)<ul><li>增长到慢启动阈值不再增长</li></ul></li></ul><h4 id=拥塞避免算法>拥塞避免算法<a hidden class=anchor aria-hidden=true href=#拥塞避免算法>#</a></h4><ul><li>维护一个拥塞窗口的变量</li><li>只要网络不拥塞，就试探着拥塞窗口调大</li></ul><p><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210525115024.png alt></p><h3 id=tcp连接的建立>TCP连接的建立<a hidden class=anchor aria-hidden=true href=#tcp连接的建立>#</a></h3><p><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210525133143.png alt></p><p><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210525140052.png alt></p><p>为什么发送方要发出第三个确认报文呢？</p><ul><li>已经失效的连接请求报文传送到对方，引起错误</li><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210525140546.png alt></li></ul><h3 id=tcp的释放>TCP的释放<a hidden class=anchor aria-hidden=true href=#tcp的释放>#</a></h3><p><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210525142503.png alt></p><h4 id=等待计时器>等待计时器<a hidden class=anchor aria-hidden=true href=#等待计时器>#</a></h4><ul><li>等待2MSL时间</li><li>为什么等待2MSL<ul><li>确保发送方的ACK可以到达接收方<ul><li>2MSL时间内没有收到，则接收方会重发。保证接收方收到了最后一次挥手</li></ul></li><li>确保当前连接的所有报文都已经过期</li></ul></li></ul><p>MSL:</p><ul><li>MSL(Max Segment Lifetime)：最长报文段寿命</li><li>MSL建议设置2分钟</li></ul><h3 id=套接字与套接字编程>套接字与套接字编程<a hidden class=anchor aria-hidden=true href=#套接字与套接字编程>#</a></h3><ul><li><p>使用端口(Port)来标记不同的网络进程</p></li><li><p>端口(Port)使用16比特位表示(0~65535)</p></li><li><p>套接字(Socket)是抽象概念，表示TCP连接的一端</p></li><li><p>通过套接字可以金慈宁宫数据发送或接收</p></li><li><p><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210525143952.png alt></p></li></ul><p>套接字编程流程：</p><ul><li>服务端<ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210525144058.png alt></li></ul></li><li>客户端<ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210525144117.png alt></li></ul></li></ul><p>域套接字和网络套接字</p><ul><li>Unix域套接字只能用于在同一个计算机的进程间进行通信。但是使用Unix域套接字效率会更高，因为Unix域套接字仅仅进行数据复制，不会执行在网络协议栈中需要处理的添加、删除报文头、计算校验和、计算报文顺序等复杂操作</li></ul><h2 id=计算机网络之应用层篇>计算机网络之应用层篇<a hidden class=anchor aria-hidden=true href=#计算机网络之应用层篇>#</a></h2><ul><li><p>传输层及以下提供完整的通信服务</p></li><li><p>应用层是面向用户的一层</p></li><li><p>UDP</p><ul><li>多媒体信息分发<ul><li>视频</li><li>语音</li><li>实时信息</li></ul></li></ul></li><li><p>TCP</p><ul><li>可靠信息传输<ul><li>金融交易</li><li>可靠通讯</li><li>MQ</li></ul></li></ul></li></ul><p>应用层概述：（定义应用间通信的规则）</p><ul><li>应用进程的报文类型（请求报文、应答报文）</li><li>报文的语法、格式</li><li>应用进程发送数据的时机、规则</li></ul><h3 id=dns详解>DNS详解<a hidden class=anchor aria-hidden=true href=#dns详解>#</a></h3><p>DNS(Domain Name System:域名系统)</p><ul><li>把域名转换为IP</li><li>UDP协议</li></ul><p>背景：</p><ul><li>IP不方便记忆，使用域名帮助记忆</li></ul><p>域名：</p><ul><li>域名由点、字母和数字组成</li><li>点分割不同的域</li><li>域名可以分为顶级域、二级域、三级域</li></ul><p>域名分级：</p><ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526135858.png alt></li><li>顶级域：<ul><li>国家<ul><li>cn 中国</li><li>uk 英国</li><li>us 美国</li><li>ca 加拿大</li></ul></li><li>通用<ul><li>com 公司</li><li>net 网络服务机构</li><li>gov 政府机构</li><li>org 组织</li></ul></li></ul></li><li>二级域</li></ul><p>域名服务器</p><ul><li>根域名服务器</li><li>顶级域名服务器</li><li>域名服务器</li></ul><p>访问方式：</p><ul><li>先访问本地DNS服务器，没有的话在向上请求</li></ul><p>DNS查询方式：</p><ul><li>递归查询<ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526141611.png alt></li></ul></li><li>迭代查询<ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526141636.png alt></li></ul></li><li>一般来说，域名服务器之间的查询使用迭代查询方式，以免根域名服务器的压力过大。</li></ul><h3 id=dhcp协议详解>DHCP协议详解<a hidden class=anchor aria-hidden=true href=#dhcp协议详解>#</a></h3><ul><li><p>DHCP(Dynamic Host Configuration Protocol:动态主机设置协议)</p></li><li><p>DHCP是一个局域网协议</p></li><li><p>DHCP是应用UDP协议的应用层协议</p></li><li><p>临时IP</p></li><li><p>租期</p></li></ul><p>工作流程：</p><ul><li>DHCP服务器监听默认端口：67</li><li>主机使用UDP协议广播DHCP发现报文</li><li>DHCP服务器发出DHCP提供报文</li><li>主机向DHCP服务器发出DHCP请求报文</li><li>DHCP服务器回应并提供IP地址</li></ul><h3 id=http协议详解>HTTP协议详解<a hidden class=anchor aria-hidden=true href=#http协议详解>#</a></h3><ul><li>HTTP(HyperText Transfer Protocol:超文本传输协议)<ul><li>超文本：带超链接的文本</li></ul></li><li>http(s)://&lt;主机>:&lt;端口>/&lt;路径></li><li>HTTP协议是可靠的数据传输协议</li><li>应用TCP协议</li></ul><p>c/s架构：</p><ul><li>Web服务器<ul><li>硬件部分</li><li>软件部分</li><li>请求流程<ol><li>接受客户端连接</li><li>接收请求报文</li><li>处理请求</li><li>访问Web资源</li><li>构造应答</li><li>发送应答</li></ol></li><li>请求方法<ul><li>GET<ul><li>获取指定的服务端资源</li></ul></li><li>POST<ul><li>提交数据到服务端</li></ul></li><li>DELETE<ul><li>删除指定的服务器资源</li></ul></li><li>UPDATE<ul><li>更新指定的服务端资源</li></ul></li><li>PUT</li><li>OPTIONS</li><li>PATCH</li><li>HEAD</li><li>TRACE</li></ul></li><li>指定资源<ul><li>在地址中指定</li><li>在请求数据中指定</li></ul></li><li>请求报文<ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526145234.png alt></li></ul></li><li>应答报文<ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526145246.png alt></li><li>状态码<ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526145437.png alt></li></ul></li></ul></li></ul></li></ul><h3 id=http工作的结构>HTTP工作的结构<a hidden class=anchor aria-hidden=true href=#http工作的结构>#</a></h3><ul><li>Web缓存</li><li>Web代理<ul><li>正向代理</li><li>反向代理</li></ul></li><li>CDN<ul><li>Content Delivery Network: 内容分发网络</li></ul></li><li>爬虫</li></ul><h3 id=https协议详解>HTTPS协议详解<a hidden class=anchor aria-hidden=true href=#https协议详解>#</a></h3><ul><li>HTTP是明文传输的</li><li>HTTPS(Secure)是安全的HTTP协议</li><li>http(s)://&lt;主机>:&lt;端口443>/&lt;路径></li></ul><h4 id=加密模型>加密模型<a hidden class=anchor aria-hidden=true href=#加密模型>#</a></h4><ul><li>对称加密<ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526150151.png alt></li></ul></li><li>非对称加密<ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526150234.png alt></li><li>A和B是拥有一定数学关系的一组密钥<ul><li>私钥：私钥自己使用，不对外公开</li><li>公钥：公钥给大家使用，对外公开</li></ul></li></ul></li></ul><h4 id=数字证书>数字证书<a hidden class=anchor aria-hidden=true href=#数字证书>#</a></h4><ul><li>数字证书是可信任组织颁发给特定对象的认证<ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526150558.png alt></li></ul></li></ul><h4 id=ssl>SSL<a hidden class=anchor aria-hidden=true href=#ssl>#</a></h4><ul><li>SSL(Secure Socket Layer:安全套接层)<ul><li>数据安全和数据完整</li><li>对传输层数据进行加密后传输</li></ul></li></ul><h4 id=https工作流程>HTTPS工作流程<a hidden class=anchor aria-hidden=true href=#https工作流程>#</a></h4><p><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526150837.png alt></p><ul><li>SSL安全参数握手过程<ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526151041.png alt></li><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526151319.png alt></li><li>综合使用非对称加密<ul><li>随机数3的传递使用非对称加密</li><li>秘钥根据随机数1、2、3生成，进行对称加密传输</li></ul></li></ul></li></ul><h2 id=计算机网络实践>计算机网络实践<a hidden class=anchor aria-hidden=true href=#计算机网络实践>#</a></h2><ol><li>搭建服务基本框架</li><li>python操作字节序列</li><li>实现IP报文解析器</li><li>实现UDP报文解析器</li><li>实现TCP报文解析器</li></ol><h3 id=搭建服务基本框架>搭建服务基本框架<a hidden class=anchor aria-hidden=true href=#搭建服务基本框架>#</a></h3><p>网卡工作模式：</p><ul><li>混杂模式<ul><li>接受所有经过网卡设备的数据</li></ul></li><li>非混杂模式<ul><li>只接受目的地址指向自己的数据</li></ul></li></ul><h3 id=python操作字节序列>Python操作字节序列<a hidden class=anchor aria-hidden=true href=#python操作字节序列>#</a></h3><ul><li><p>字节序</p><ul><li>255 = 00000000,11111111</li><li>大端字节序<ul><li>高位字节放在前面 低位字节放在后面<ul><li>255 = 00000000,11111111</li></ul></li><li>主要用于网络</li></ul></li><li>小端字节序<ul><li>位高字节放在后面，低位字节放在前面<ul><li>255 = 11111111,00000000</li></ul></li><li>主要用于计算机</li></ul></li><li>原因<ul><li>计算机电路先处理低位字节效率比较高</li><li>人类习惯读写大端字节序</li></ul></li></ul></li><li><p>格式字符</p><ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526154338.png alt></li></ul></li><li><p>Python操作字节序列</p><ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526154907.png alt></li></ul></li></ul><h3 id=实现ip报文解析器>实现IP报文解析器<a hidden class=anchor aria-hidden=true href=#实现ip报文解析器>#</a></h3><p><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526155904.png alt></p><p>protocol：
<img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210526174642.png alt></p><h3 id=实现udp报文解析器>实现UDP报文解析器<a hidden class=anchor aria-hidden=true href=#实现udp报文解析器>#</a></h3><h3 id=实现tcp报文解析器>实现TCP报文解析器<a hidden class=anchor aria-hidden=true href=#实现tcp报文解析器>#</a></h3><p>代码：https://github.com/Cuiks/review</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://www.cuiks.top/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/>计算机网络</a></li></ul><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share 计算机网络 on twitter" href="https://twitter.com/intent/tweet/?text=%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bd%91%e7%bb%9c&url=https%3a%2f%2fwww.cuiks.top%2fposts%2fcomputer_networks%2f&hashtags=%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bd%91%e7%bb%9c"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512h-386.892c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892zm-253.927 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 计算机网络 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fwww.cuiks.top%2fposts%2fcomputer_networks%2f&title=%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bd%91%e7%bb%9c&summary=%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bd%91%e7%bb%9c&source=https%3a%2f%2fwww.cuiks.top%2fposts%2fcomputer_networks%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512h-386.892c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0v-129.439c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02v-126.056c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768h75.024zm-307.552-334.556c-25.674.0-42.448 16.879-42.448 39.002.0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 计算机网络 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fwww.cuiks.top%2fposts%2fcomputer_networks%2f&title=%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bd%91%e7%bb%9c"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512h-386.892c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zm-119.474 108.193c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zm-160.386-29.702c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 计算机网络 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.cuiks.top%2fposts%2fcomputer_networks%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978v-192.915h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 计算机网络 on whatsapp" href="https://api.whatsapp.com/send?text=%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bd%91%e7%bb%9c%20-%20https%3a%2f%2fwww.cuiks.top%2fposts%2fcomputer_networks%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512h-386.892c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23-13.314-11.876-22.304-26.542-24.916-31.026s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 计算机网络 on telegram" href="https://telegram.me/share/url?text=%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bd%91%e7%bb%9c&url=https%3a%2f%2fwww.cuiks.top%2fposts%2fcomputer_networks%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47A3.38 3.38.0 0126.49 29.86zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer><span id=/posts/computer_networks/ class=leancloud_visitors data-flag-title=计算机网络><span class=post-meta-item-text>文章阅读量</span>
<span class=leancloud-visitors-count>1000000</span><p></p></span><div id=vcomments></div><script src=//cdn1.lncld.net/static/js/3.0.4/av-min.js></script><script src=//unpkg.com/valine/dist/Valine.min.js></script><script type=text/javascript>new Valine({el:'#vcomments',appId:'qawpEGaIhzxE9qCJm9hisTxW-gzGzoHsz',appKey:'FkncojWQwaOzzkHjlvW0vH3b',notify:false,verify:false,avatar:'',placeholder:'说点什么吧...',visitor:true});</script></article></main><footer class=footer><span>&copy; 2021 <a href=https://www.cuiks.top>Note Site</a></span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script defer src=/assets/js/highlight.min.27cd435cc9ed6abb4b496581b151804f79f366c412620272bb94e2f5f598ebcc.js integrity="sha256-J81DXMntartLSWWBsVGAT3nzZsQSYgJyu5Ti9fWY68w=" onload=hljs.initHighlightingOnLoad();></script><script>window.onload=function(){if(localStorage.getItem("menu-scroll-position")){document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position");}}
function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft);}
document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",function(e){e.preventDefault();var id=this.getAttribute("href").substr(1);if(!window.matchMedia('(prefers-reduced-motion: reduce)').matches){document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({behavior:"smooth"});}else{document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();}
if(id==="top"){history.replaceState(null,null," ");}else{history.pushState(null,null,`#${id}`);}});});</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){if(document.body.scrollTop>800||document.documentElement.scrollTop>800){mybutton.style.visibility="visible";mybutton.style.opacity="1";}else{mybutton.style.visibility="hidden";mybutton.style.opacity="0";}};</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{if(document.body.className.includes("dark")){document.body.classList.remove('dark');localStorage.setItem("pref-theme",'light');}else{document.body.classList.add('dark');localStorage.setItem("pref-theme",'dark');}})</script></body></html>