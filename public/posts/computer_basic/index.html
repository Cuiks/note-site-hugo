<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>计算机组成原理 | Note Site</title><meta name=keywords content="计算机组成原理"><meta name=description content="计算机组成原理 - Note Site"><meta name=author content="Cuiks"><link rel=canonical href=https://www.cuiks.top/posts/computer_basic/><meta name=google-site-verification content="XYZabc"><link href=/assets/css/stylesheet.min.e7fdcebb37aa7bdecf8b9159a8b3cab1ba4a084f27d375288d3416558b340888.css integrity="sha256-5/3Ouzeqe97Pi5FZqLPKsbpKCE8n03UojTQWVYs0CIg=" rel="preload stylesheet" as=style><link rel=icon href=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/dingdang-cat-favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/favicon-32x32.png><link rel=apple-touch-icon href=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/dingdangcat-apple-touch-icon.png><link rel=mask-icon href=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/dingdangcat-android-chrome-192x192.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.76.5"><meta property="og:title" content="计算机组成原理"><meta property="og:description" content><meta property="og:type" content="article"><meta property="og:url" content="https://www.cuiks.top/posts/computer_basic/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-05-27T15:21:04+08:00"><meta property="article:modified_time" content="2021-05-27T15:21:04+08:00"><meta property="og:site_name" content="Note Site"><meta name=twitter:card content="summary"><meta name=twitter:title content="计算机组成原理"><meta name=twitter:description content><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://www.cuiks.top/posts/"},{"@type":"ListItem","position":3,"name":"计算机组成原理","item":"https://www.cuiks.top/posts/computer_basic/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"计算机组成原理","name":"计算机组成原理","description":"","keywords":["计算机组成原理"],"articleBody":"计算机原理之概述 计算机的发展历史  计算机发展的四个阶段 微型计算机的发展历史  计算机的分类  超级计算机 大型计算机 迷你计算机（服务器） 工作站 微型计算机  计算机的体系与结构 冯诺依曼体系 将程序指令和数据一起存储的计算机设计概念结构\n 必须有一个存储器 必须有一个控制器 必须有一个运算器 必须有输入设备 必须有输出设备  现代计算机都是冯诺依曼机。\n 能够把需要的程序和数据送至计算机中 能够长期记忆程序、数据、中间结果及最终运算结果的能力 能够具备算数、逻辑运算和数据传送等数据加工处理的能力 能够按照要求将处理结果输出给用户  现代计算机的结构  现代计算机在冯诺依曼体系结构基础上进行修改 解决CPU与存储设备之间的性能差异问题  计算机的层次与编程语言 程序翻译与程序解释  计算机执行的指令都是L0 翻译过程生成新的L0程序，解释过程不生成新的L0程序 解释过程由L0编写的解释器去解释L1程序  计算机的层次与编程语言  硬件逻辑层 微程序机器层 传统机器层  它们的关系:\n  一条机器指令对应一个微程序\n  一个微程序对应一组微指令\n  操作系统层\n  汇编语言层\n  高级语言层\n  应用层\n  计算机的速度单位 容量单位\n 1Byte = 8bits  速度单位\n 网络速度 100M/S = 100 Mbps = 100 Mbit/s = (100/8)MB/s = 12.5MB/s  CPU速度\n CPU的速度一般体现在CPU的时钟频率 CPU的时钟频率的单位一般是赫兹(Hz) Hz就是秒分之一 每秒中的周期性变动重复次数的计量  计算机的字符与编码集 字符编码集的历史\n ASCII码  使用7个bits就可以完全表示ASCII码 包含95个可打印字符 33个不可打印字符（包括控制字符） 很多应用或者国家中的符号都无法表示。于是7bits-8bits，出现Extended ASCII码   Extended ASCII码 字符编码集的国际化  GB2312 GBK Unicode。定义了世界通用的符号集，UTF-*实现了编码。UTF-8以字节为单位对Unicode进行编码    计算机原理之组成 计算机的总线 总线的概述 USB:Universal Serial Bus（通用串行总线）\n 提供了对外连接的接口 不同设备可以通过USB接口进行连接 连接的标准，促使外围设备接口的统一 PCI总线、ISA总线。。。。。。 解决不同设备之间的通信问题  总线的分类：\n 片内总线  芯片内部的总线 寄存器与寄存器之间 寄存器与控制器、运算器之间 高集成度芯片内部的信息传输线   系统总线  数据总线  双向传输各个部件的数据信息 数据总线的位数（总线宽度）是数据总线的重要参数。一般与CPU位数相同（32位、64位）   地址总线  指定源数据或目的数据在内存中的地址 地址总线的位数与存储单元有关。地址总线位数=n，寻址范围：0~2^n   控制总线  控制总线是用来发出各种控制信号的传输线 控制信号经由控制总线从一个组件发给另一个组件 控制总线可以见识不同组件之间的状态（就绪/未就绪）      总线的仲裁 为什么需要总线的仲裁\n 为了解决总线使用权的冲突问题  总线仲裁的方法\n 链式查询  好处：电路复杂度低，仲裁方式简单 坏处：优先级低的设备难以获得总线使用权 坏处：对电路故障敏感   计时器定时查询  仲裁控制器对设备编号并使用计数器累计计数 接收到仲裁信号后，往所有设备发出计数值 计数值与设备编号一致则获得总线使用权   独立请求  每个设备均有总线独立连接仲裁器 设备可单独向仲裁器发送请求和接收请求 当同时收到多个请求信号，仲裁器有权按优先级分配使用权 好处：响应速度快，优先顺序可动态改变 坏处：设备连线多，总线控制复杂    计算机的输入输出设备 常见的输入输出设备\n 常见输入设备  字符输入设备 图像输入设备    输入输出接口的通用设计\n 数据线  是I/O设备与主机之间进行数据交换的传送线 单向传输数据线 双向传输数据线   状态线  IO设备状态向主机报告的信号线 查询设备是否已经正常连接并就绪 查询设备是否已经被占用   命令线  CPU向设备发送命令的信号线 发送读写信号 发送启动停止信号   设备选择线  主机选择I/O设备进行操作的信号线 对连在总线上的设备进行选择    CPU与IO设备的通信\n 程序中断  当外围IO设备就绪时，向CPU发出中断信号 CPU有专门的电路响应中断信号 提供低速设备通知CPU的一种异步的方式 CPU可以高速运转同事兼顾低速设备的响应   DMA(直接存储器访问)  DMA直接连接主存与IO设备 DMA工作时不需要CPU的参与    计算机存储器概览 存储器的分类  按照存储介质  半导体存储器。内存、U盘、固态硬盘 磁存储器。磁带、磁盘   按照存取方式  随机存储器(RAM)。随机读取、与位置无关 串行存储器。与位置有关、按顺序查找 只读存储器(ROM)。只读不写    存储器的层次结构 读写速度、存储容量、价格。位价：每比特位价格。\n缓存、主存、辅存\n 缓存-主存层次  原理：局部性原理  局部性原理是指CPU访问存储器时，无论是存取指令还是存取数据，所访问的存储单元都趋于聚集在一个较小的连续区域中。   实现：在CPU与主存直接增加一层速度快（容量小）的Cache 目的：解决主存速度不足的问题   主存-辅存层次  原理：局部性原理 实现：主存之外增加辅助存储器（磁盘、SD卡、U盘等） 目的：解决主存容量不足的问题    计算机的主存储器与辅助存储器  主存储器–内存  RAM（随机存取存储器：Random Access Memory） RAM通过电容存储数据，必须隔一段时间刷新一次 如果掉电，那么一段时间后将丢失所有数据   辅助存储器–磁盘  表面是可磁化的硬磁特性材料 移动磁头径向运动读取磁道信息 磁盘调度算法  先来先服务算法  按照顺序访问进程的磁道读写需求   最短寻到时间优先  与磁头当前位置有关 优先访问离磁头最近的磁道   扫描算法（电梯算法）  每次只往一个方向移动 到达一个方向需要服务的尽头再反方向移动   循环扫描算法  只往一个方向移动        计算机的高速缓存  高速缓存的工作原理  字：是指存放在一个存储单元中的二进制代码组合 字块：存储在连续的存储单元中而被看做是一个单元的一组字 字的地址包含两个部分。前m位指定字块的地址，后b位指定字在字块中的地址 命中率是衡量缓存的重要性能指标 理论上CPU每次都能从高速缓存存取数据的时候，命中率为1 命中率：h = Nc/(Nc+Nm)。访问效率：e = Tc/Ta = Tc/(hTc + (1-h)Tm)   高速缓存的替换策略  随机算法 先进先出算法 FIFO  把高速缓存看做是一个先进先出的队列 优先替换最先进入队列的字块   最不经常使用算法 LFU  优先淘汰最不经常使用的字块 需要额外空间记录字块的使用频率   最近最少使用算法 LRU  优先淘汰一段时间内没有使用的字块 有多种实现方法，一般使用双向链表 把当前访问节点置于链表前面，保证链表头部节点是最近使用的。淘汰链表尾部节点      计算机的指令系统 机器指令的形式  机器指令主要由两部分组成：操作码、地址码 操作码指明指令所要完成的操作 操作码的位数反映了机器的操作种类 地址码直接给出操作数或者操作数的地址 分三地址指令、二地址指令、一地址指令、零地址指令  零地址指令：在机器指令中无地址码。空操作、停机操作、中断返回操作等    机器指令的操作类型  数据传输  寄存器之间、寄存器与存储单元、存储单元之间传送 数据读写、交换地址数据、清零置一等操作   算术逻辑操作  操作数之间的加减乘除运算 操作数的与或非等逻辑位运算   移位操作  数据左移（乘2）、数据右移（除2） 完成数据在算术逻辑单元的必要操作   控制指令  等待指令、停机指令、空操作指令、中断指令等    机器指令的寻址方式  指令寻址  顺序寻址 跳跃寻址   数据寻址  立即寻址  指令直接获取操作数，无需访问存储器   直接寻址  直接给出操作数在主存的地址 寻找操作数简单，无需计算数据地址   间接寻址  指令地址码给出的是操作数地址的地址 需要访问一次或多次主存来获取操作数      计算机的控制器 控制器是协调和控制计算机运行的 控制器分为：\n 程序计数器  用来存储下一条指令的地址 循环从程序计数器中拿出指令 当指令被拿出时，指向下一条指令   时序发生器  电气工程领域，用于发送时序脉冲 CPU依据不同的时序脉冲有节奏的进行工作   指令译码器  控制器的主要部件之一 计算机指令由操作码和地址码组成 翻译操作码对应的操作以及控制传输地址码对应的数据   各种寄存器  指令寄存器  也是控制器的主要部件之一 从主存或高速缓存取计算机指令   主存地址寄存器  保存当前CPU正要访问的内存单元的地址   主存数据寄存器  保存当前CPU正要读或写的主存数据   通用寄存器  用于暂时存放或传送数据或指令 可保存ALU的运算中间结果 容量比一般专用寄存器要大      计算机的运算器 运算器是用来进行数据运算加工的\n 数据缓冲器  分为输入缓冲和输出缓冲 输入缓冲暂时存放外设送过来的数据 输出缓冲暂时存放送往外设的数据   ALU  ALU：算术逻辑单元，是计算机的主要组成 常见的位运算（左右移、与或非等） 算术运算（加减乘除等）   通用寄存器  用于暂时存放或传送数据或指令 可保存ALU的运算中间结果 容量比一般专用寄存器要大   状态字寄存器  存放运算状态（条件码、进位、溢出、结果正负等） 存放运算控制信息（调试跟踪标记位、允许中断位等）    计算机指令的执行过程  指令执行过程  取指令：从缓存取指令，送到指令寄存器 分析指令：指令译码器译码，发出控制信号，程序计数器+1 执行指令：装载数据到寄存器，ALU处理数据，记录运算状态，送出运算结果   CPU的流水线设计  类似工厂的装配线 工厂的装配线使得多个产品可以同时被加工 在同一个时刻，不同产品均位于不同的加工阶段    计算机组成原理之计算 进制运算的基础 进制概述\n 进制的定义  进位制是一种计数方式，亦称进位计数法或位值记数法 有限种数字符号来表示无限的数值 使用的数字符号的数目成为这种进位制的基数或底数   常见的进制  二进制运算的基础\n 二进制转化十进制：按权展开法  N = (01100101) = 1*2^6 + 1*2^5 + 1*2^2 + 1 = 101   十进制转换二进制：重复相除法     小数二进制转换十进制：按权展开法  N = (0.11001) = 1*2^-1 + 1*2^-2 + 1*2^-5 = 0.78125 = 25/32   小数十进制转二进制：重复想乘法      有符号数与无符号数  原码表示法  使用0表示正数、1表示负数 规定符号位位于数值第一位 表达简单明了，是最容易理解的表示法    二进制的不补码表示法  补码的定义   n=4,x=13。x的补码 = 源码 = 01101 x=-13。x的补码 = 2^5-13 = 100000-1101 = 10011    二进制的反码表示法   反码的定义\n      负数的反码等于原码除符号位外按位取反\n  负数的补码等于反码+1\n  小数的补码  二进制小数的补码       定点数与浮点数 定点数的表示方法\n 小数点固定在某个位置的数成为定点数 纯小数：小数点位于符号位和数值为之间 纯整数：小数点位于符号位和数值位之后 如果不是纯小数也不是纯整数，就需要乘以一个比例因子以满足定点数的保存格式 计算机处理的很大程度上不是纯小数或纯整数 数据范围很大，定点数难以表达 浮点数的表示方法 浮点数的表示格式      浮点数的表示范围  假设阶码数值取m位，尾数取n位 阶码表示范围：[-(2^m-1),2^m-1] 尾数表示范围：[-(1-2^-n),-(2^-n)] [2^-n,1-2^-n]  单精度浮点数：使用4字节、32位来表达浮点数 float 双精度浮点数：使用8字节、64位来表达浮点数 double   浮点数的规格化  尾数规定使用纯小数 尾数最高位必须是1 定点数与浮点数的对比   当定点数与浮点数位数相同时，浮点数表示的范围更大 当浮点数尾数为规格化数时，浮点数的精度更高 浮点数运算包含阶码和尾数，浮点数的运算更为复杂 浮点数在数的表示范围、精度、溢出处理、编程等方便均优于定点数 浮点数在数的运算规则、运算速度、硬件成本方便不如定点数  定点数的加减法运算 定点数的加法运算\n  数值位与符号位一同运算，并将符号位产生的进位自然丢掉      判断溢出\n 双符号位判断法  单符号位表示变成双符号位：0=00,1=11 双符号位产生的进位丢弃 结果的双符号位不同则表示溢出     定点数的减法运算\n    浮点数的加减法运算 运算步骤\n 对阶  对阶的目的是是的两个浮点数阶码一致，使得尾数可以进行运算 浮点数尾数运算简单 浮点数尾数实际小数位与阶码有关 阶码按小阶看齐大阶的原则    尾数求和  使用补码进行运算 减法运算转化为加法运算：A - B = A + (-B)    尾数规格化  对补码进行规格化需要判断两种情况：S0和S   尾数规格化（右移）  一般情况下都是左移 双符号位不一致下需要右移（定点运算的溢出情况） 右移的话需要进行舍入操作     舍入  “0舍1入”法（二进制的四舍五入）       溢出判断  浮点数运尾数双符号位不一致不算溢出，因为尾数双符号位可以右移进行规格化 浮点运算主要通过阶码的双符号位判断是否溢出 如果规格化后，阶码双符号位不一致，则认为溢出         浮点数的乘除法运算 浮点数乘法 浮点数除法 例子 计算机组成原理 实践 双向链表的原理与实践1  双向链表可以快速找到上一个节点（和下一个节点） 可以快速的去掉链表中的某一个节点  代码：https://github.com/Cuiks/review\n","wordCount":"452","inLanguage":"en","datePublished":"2021-05-27T15:21:04+08:00","dateModified":"2021-05-27T15:21:04+08:00","author":{"@type":"Person","name":"Cuiks"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.cuiks.top/posts/computer_basic/"},"publisher":{"@type":"Organization","name":"Note Site","logo":{"@type":"ImageObject","url":"https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/favicon.ico"}}}</script></head><body id=top><script>if(localStorage.getItem("pref-theme")==="dark"){document.body.classList.add('dark');}else if(localStorage.getItem("pref-theme")==="light"){document.body.classList.remove('dark')}else if(window.matchMedia('(prefers-color-scheme: dark)').matches){document.body.classList.add('dark');}</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme: #1d1e20;--entry: #2e2e33;--primary: rgba(255, 255, 255, 0.84);--secondary: rgba(255, 255, 255, 0.56);--tertiary: rgba(255, 255, 255, 0.16);--content: rgba(255, 255, 255, 0.74);--hljs-bg: #2e2e33;--code-bg: #37383e;--border: #333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://www.cuiks.top accesskey=h title="Note Site (Alt + H)"><img src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/dingdangcat-apple-touch-icon.png alt=logo aria-label=logo height=35>Note Site</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu onscroll=menu_on_scroll()><li><a href=https://www.cuiks.top/posts/ title=posts><span>posts</span></a></li><li><a href=https://www.cuiks.top/about/about title=about><span>about</span></a></li><li><a href=https://www.cuiks.top/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>计算机组成原理</h1><div class=post-meta>May 27, 2021&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Cuiks</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><div class=details>Table of Contents</div></summary><div class=inner><ul><li><a href=#%e8%ae%a1%e7%ae%97%e6%9c%ba%e5%8e%9f%e7%90%86%e4%b9%8b%e6%a6%82%e8%bf%b0 aria-label=计算机原理之概述>计算机原理之概述</a><ul><li><a href=#%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%9a%84%e5%8f%91%e5%b1%95%e5%8e%86%e5%8f%b2 aria-label=计算机的发展历史>计算机的发展历史</a></li><li><a href=#%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%9a%84%e5%88%86%e7%b1%bb aria-label=计算机的分类>计算机的分类</a></li><li><a href=#%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%9a%84%e4%bd%93%e7%b3%bb%e4%b8%8e%e7%bb%93%e6%9e%84 aria-label=计算机的体系与结构>计算机的体系与结构</a><ul><li><a href=#%e5%86%af%e8%af%ba%e4%be%9d%e6%9b%bc%e4%bd%93%e7%b3%bb aria-label=冯诺依曼体系>冯诺依曼体系</a></li><li><a href=#%e7%8e%b0%e4%bb%a3%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%9a%84%e7%bb%93%e6%9e%84 aria-label=现代计算机的结构>现代计算机的结构</a></li></ul></li><li><a href=#%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%9a%84%e5%b1%82%e6%ac%a1%e4%b8%8e%e7%bc%96%e7%a8%8b%e8%af%ad%e8%a8%80 aria-label=计算机的层次与编程语言>计算机的层次与编程语言</a><ul><li><a href=#%e7%a8%8b%e5%ba%8f%e7%bf%bb%e8%af%91%e4%b8%8e%e7%a8%8b%e5%ba%8f%e8%a7%a3%e9%87%8a aria-label=程序翻译与程序解释>程序翻译与程序解释</a></li><li><a href=#%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%9a%84%e5%b1%82%e6%ac%a1%e4%b8%8e%e7%bc%96%e7%a8%8b%e8%af%ad%e8%a8%80-1 aria-label=计算机的层次与编程语言>计算机的层次与编程语言</a></li></ul></li><li><a href=#%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%9a%84%e9%80%9f%e5%ba%a6%e5%8d%95%e4%bd%8d aria-label=计算机的速度单位>计算机的速度单位</a></li><li><a href=#%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%9a%84%e5%ad%97%e7%ac%a6%e4%b8%8e%e7%bc%96%e7%a0%81%e9%9b%86 aria-label=计算机的字符与编码集>计算机的字符与编码集</a></li></ul></li><li><a href=#%e8%ae%a1%e7%ae%97%e6%9c%ba%e5%8e%9f%e7%90%86%e4%b9%8b%e7%bb%84%e6%88%90 aria-label=计算机原理之组成>计算机原理之组成</a><ul><li><a href=#%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%9a%84%e6%80%bb%e7%ba%bf aria-label=计算机的总线>计算机的总线</a><ul><li><a href=#%e6%80%bb%e7%ba%bf%e7%9a%84%e6%a6%82%e8%bf%b0 aria-label=总线的概述>总线的概述</a></li><li><a href=#%e6%80%bb%e7%ba%bf%e7%9a%84%e4%bb%b2%e8%a3%81 aria-label=总线的仲裁>总线的仲裁</a></li></ul></li><li><a href=#%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%9a%84%e8%be%93%e5%85%a5%e8%be%93%e5%87%ba%e8%ae%be%e5%a4%87 aria-label=计算机的输入输出设备>计算机的输入输出设备</a></li><li><a href=#%e8%ae%a1%e7%ae%97%e6%9c%ba%e5%ad%98%e5%82%a8%e5%99%a8%e6%a6%82%e8%a7%88 aria-label=计算机存储器概览>计算机存储器概览</a><ul><li><a href=#%e5%ad%98%e5%82%a8%e5%99%a8%e7%9a%84%e5%88%86%e7%b1%bb aria-label=存储器的分类>存储器的分类</a></li><li><a href=#%e5%ad%98%e5%82%a8%e5%99%a8%e7%9a%84%e5%b1%82%e6%ac%a1%e7%bb%93%e6%9e%84 aria-label=存储器的层次结构>存储器的层次结构</a></li></ul></li><li><a href=#%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%9a%84%e4%b8%bb%e5%ad%98%e5%82%a8%e5%99%a8%e4%b8%8e%e8%be%85%e5%8a%a9%e5%ad%98%e5%82%a8%e5%99%a8 aria-label=计算机的主存储器与辅助存储器>计算机的主存储器与辅助存储器</a></li><li><a href=#%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%9a%84%e9%ab%98%e9%80%9f%e7%bc%93%e5%ad%98 aria-label=计算机的高速缓存>计算机的高速缓存</a></li><li><a href=#%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%9a%84%e6%8c%87%e4%bb%a4%e7%b3%bb%e7%bb%9f aria-label=计算机的指令系统>计算机的指令系统</a><ul><li><a href=#%e6%9c%ba%e5%99%a8%e6%8c%87%e4%bb%a4%e7%9a%84%e5%bd%a2%e5%bc%8f aria-label=机器指令的形式>机器指令的形式</a></li><li><a href=#%e6%9c%ba%e5%99%a8%e6%8c%87%e4%bb%a4%e7%9a%84%e6%93%8d%e4%bd%9c%e7%b1%bb%e5%9e%8b aria-label=机器指令的操作类型>机器指令的操作类型</a></li><li><a href=#%e6%9c%ba%e5%99%a8%e6%8c%87%e4%bb%a4%e7%9a%84%e5%af%bb%e5%9d%80%e6%96%b9%e5%bc%8f aria-label=机器指令的寻址方式>机器指令的寻址方式</a></li></ul></li><li><a href=#%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%9a%84%e6%8e%a7%e5%88%b6%e5%99%a8 aria-label=计算机的控制器>计算机的控制器</a></li><li><a href=#%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%9a%84%e8%bf%90%e7%ae%97%e5%99%a8 aria-label=计算机的运算器>计算机的运算器</a></li><li><a href=#%e8%ae%a1%e7%ae%97%e6%9c%ba%e6%8c%87%e4%bb%a4%e7%9a%84%e6%89%a7%e8%a1%8c%e8%bf%87%e7%a8%8b aria-label=计算机指令的执行过程>计算机指令的执行过程</a></li></ul></li><li><a href=#%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bb%84%e6%88%90%e5%8e%9f%e7%90%86%e4%b9%8b%e8%ae%a1%e7%ae%97 aria-label=计算机组成原理之计算>计算机组成原理之计算</a><ul><li><a href=#%e8%bf%9b%e5%88%b6%e8%bf%90%e7%ae%97%e7%9a%84%e5%9f%ba%e7%a1%80 aria-label=进制运算的基础>进制运算的基础</a></li><li><a href=#%e6%9c%89%e7%ac%a6%e5%8f%b7%e6%95%b0%e4%b8%8e%e6%97%a0%e7%ac%a6%e5%8f%b7%e6%95%b0 aria-label=有符号数与无符号数>有符号数与无符号数</a></li><li><a href=#%e4%ba%8c%e8%bf%9b%e5%88%b6%e7%9a%84%e4%b8%8d%e8%a1%a5%e7%a0%81%e8%a1%a8%e7%a4%ba%e6%b3%95 aria-label=二进制的不补码表示法>二进制的不补码表示法</a></li><li><a href=#%e4%ba%8c%e8%bf%9b%e5%88%b6%e7%9a%84%e5%8f%8d%e7%a0%81%e8%a1%a8%e7%a4%ba%e6%b3%95 aria-label=二进制的反码表示法>二进制的反码表示法</a></li><li><a href=#%e5%b0%8f%e6%95%b0%e7%9a%84%e8%a1%a5%e7%a0%81 aria-label=小数的补码>小数的补码</a></li><li><a href=#%e5%ae%9a%e7%82%b9%e6%95%b0%e4%b8%8e%e6%b5%ae%e7%82%b9%e6%95%b0 aria-label=定点数与浮点数>定点数与浮点数</a></li><li><a href=#%e5%ae%9a%e7%82%b9%e6%95%b0%e7%9a%84%e5%8a%a0%e5%87%8f%e6%b3%95%e8%bf%90%e7%ae%97 aria-label=定点数的加减法运算>定点数的加减法运算</a></li><li><a href=#%e6%b5%ae%e7%82%b9%e6%95%b0%e7%9a%84%e5%8a%a0%e5%87%8f%e6%b3%95%e8%bf%90%e7%ae%97 aria-label=浮点数的加减法运算>浮点数的加减法运算</a></li><li><a href=#%e6%b5%ae%e7%82%b9%e6%95%b0%e7%9a%84%e4%b9%98%e9%99%a4%e6%b3%95%e8%bf%90%e7%ae%97 aria-label=浮点数的乘除法运算>浮点数的乘除法运算</a></li></ul></li><li><a href=#%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bb%84%e6%88%90%e5%8e%9f%e7%90%86-%e5%ae%9e%e8%b7%b5 aria-label="计算机组成原理 实践">计算机组成原理 实践</a><ul><ul><li><a href=#%e5%8f%8c%e5%90%91%e9%93%be%e8%a1%a8%e7%9a%84%e5%8e%9f%e7%90%86%e4%b8%8e%e5%ae%9e%e8%b7%b51 aria-label=双向链表的原理与实践1>双向链表的原理与实践1</a></li></ul></ul></li></ul></div></details></div><div class=post-content><h2 id=计算机原理之概述>计算机原理之概述<a hidden class=anchor aria-hidden=true href=#计算机原理之概述>#</a></h2><h3 id=计算机的发展历史>计算机的发展历史<a hidden class=anchor aria-hidden=true href=#计算机的发展历史>#</a></h3><ul><li>计算机发展的四个阶段</li><li>微型计算机的发展历史</li></ul><h3 id=计算机的分类>计算机的分类<a hidden class=anchor aria-hidden=true href=#计算机的分类>#</a></h3><ul><li>超级计算机</li><li>大型计算机</li><li>迷你计算机（服务器）</li><li>工作站</li><li>微型计算机</li></ul><h3 id=计算机的体系与结构>计算机的体系与结构<a hidden class=anchor aria-hidden=true href=#计算机的体系与结构>#</a></h3><h4 id=冯诺依曼体系>冯诺依曼体系<a hidden class=anchor aria-hidden=true href=#冯诺依曼体系>#</a></h4><p>将程序指令和数据一起存储的计算机设计概念结构</p><ul><li>必须有一个存储器</li><li>必须有一个控制器</li><li>必须有一个运算器</li><li>必须有输入设备</li><li>必须有输出设备</li></ul><p>现代计算机都是冯诺依曼机。</p><ul><li>能够把需要的程序和数据送至计算机中</li><li>能够长期记忆程序、数据、中间结果及最终运算结果的能力</li><li>能够具备算数、逻辑运算和数据传送等数据加工处理的能力</li><li>能够按照要求将处理结果输出给用户</li></ul><h4 id=现代计算机的结构>现代计算机的结构<a hidden class=anchor aria-hidden=true href=#现代计算机的结构>#</a></h4><ul><li>现代计算机在冯诺依曼体系结构基础上进行修改</li><li>解决CPU与存储设备之间的性能差异问题</li></ul><h3 id=计算机的层次与编程语言>计算机的层次与编程语言<a hidden class=anchor aria-hidden=true href=#计算机的层次与编程语言>#</a></h3><h4 id=程序翻译与程序解释>程序翻译与程序解释<a hidden class=anchor aria-hidden=true href=#程序翻译与程序解释>#</a></h4><ul><li>计算机执行的指令都是L0</li><li>翻译过程生成新的L0程序，解释过程不生成新的L0程序</li><li>解释过程由L0编写的解释器去解释L1程序</li></ul><h4 id=计算机的层次与编程语言-1>计算机的层次与编程语言<a hidden class=anchor aria-hidden=true href=#计算机的层次与编程语言-1>#</a></h4><p><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%9a%84%e5%b1%82%e6%ac%a1%e4%b8%8e%e7%bc%96%e7%a8%8b%e8%af%ad%e8%a8%8020210507203623.png alt></p><ul><li>硬件逻辑层</li><li>微程序机器层</li><li>传统机器层</li></ul><p>它们的关系:</p><ul><li><p>一条机器指令对应一个微程序</p></li><li><p>一个微程序对应一组微指令</p></li><li><p>操作系统层</p></li><li><p>汇编语言层</p></li><li><p>高级语言层</p></li><li><p>应用层</p></li></ul><h3 id=计算机的速度单位>计算机的速度单位<a hidden class=anchor aria-hidden=true href=#计算机的速度单位>#</a></h3><p>容量单位</p><ul><li>1Byte = 8bits</li></ul><p>速度单位</p><ul><li>网络速度 100M/S = 100 Mbps = 100 Mbit/s = (100/8)MB/s = 12.5MB/s</li></ul><p>CPU速度</p><ul><li>CPU的速度一般体现在CPU的时钟频率</li><li>CPU的时钟频率的单位一般是赫兹(Hz)</li><li>Hz就是秒分之一 每秒中的周期性变动重复次数的计量</li></ul><h3 id=计算机的字符与编码集>计算机的字符与编码集<a hidden class=anchor aria-hidden=true href=#计算机的字符与编码集>#</a></h3><p>字符编码集的历史</p><ul><li>ASCII码<ul><li>使用7个bits就可以完全表示ASCII码</li><li>包含95个可打印字符</li><li>33个不可打印字符（包括控制字符）</li><li>很多应用或者国家中的符号都无法表示。于是7bits->8bits，出现Extended ASCII码</li></ul></li><li>Extended ASCII码</li><li>字符编码集的国际化<ul><li>GB2312</li><li>GBK</li><li>Unicode。定义了世界通用的符号集，UTF-*实现了编码。UTF-8以字节为单位对Unicode进行编码</li></ul></li></ul><h2 id=计算机原理之组成>计算机原理之组成<a hidden class=anchor aria-hidden=true href=#计算机原理之组成>#</a></h2><h3 id=计算机的总线>计算机的总线<a hidden class=anchor aria-hidden=true href=#计算机的总线>#</a></h3><h4 id=总线的概述>总线的概述<a hidden class=anchor aria-hidden=true href=#总线的概述>#</a></h4><p>USB:Universal Serial Bus（通用串行总线）</p><ul><li>提供了对外连接的接口</li><li>不同设备可以通过USB接口进行连接</li><li>连接的标准，促使外围设备接口的统一</li><li>PCI总线、ISA总线。。。。。。</li><li>解决不同设备之间的通信问题</li></ul><p>总线的分类：</p><ul><li>片内总线<ul><li>芯片内部的总线</li><li>寄存器与寄存器之间</li><li>寄存器与控制器、运算器之间</li><li>高集成度芯片内部的信息传输线</li></ul></li><li>系统总线<ul><li>数据总线<ul><li>双向传输各个部件的数据信息</li><li>数据总线的位数（总线宽度）是数据总线的重要参数。一般与CPU位数相同（32位、64位）</li></ul></li><li>地址总线<ul><li>指定源数据或目的数据在内存中的地址</li><li>地址总线的位数与存储单元有关。地址总线位数=n，寻址范围：<code>0~2^n</code></li></ul></li><li>控制总线<ul><li>控制总线是用来发出各种控制信号的传输线</li><li>控制信号经由控制总线从一个组件发给另一个组件</li><li>控制总线可以见识不同组件之间的状态（就绪/未就绪）</li></ul></li></ul></li></ul><h4 id=总线的仲裁>总线的仲裁<a hidden class=anchor aria-hidden=true href=#总线的仲裁>#</a></h4><p>为什么需要总线的仲裁</p><ul><li>为了解决总线使用权的冲突问题</li></ul><p>总线仲裁的方法</p><ul><li>链式查询<ul><li>好处：电路复杂度低，仲裁方式简单</li><li>坏处：优先级低的设备难以获得总线使用权</li><li>坏处：对电路故障敏感</li></ul></li><li>计时器定时查询<ul><li>仲裁控制器对设备编号并使用计数器累计计数</li><li>接收到仲裁信号后，往所有设备发出计数值</li><li>计数值与设备编号一致则获得总线使用权</li></ul></li><li>独立请求<ul><li>每个设备均有总线独立连接仲裁器</li><li>设备可单独向仲裁器发送请求和接收请求</li><li>当同时收到多个请求信号，仲裁器有权按优先级分配使用权</li><li>好处：响应速度快，优先顺序可动态改变</li><li>坏处：设备连线多，总线控制复杂</li></ul></li></ul><h3 id=计算机的输入输出设备>计算机的输入输出设备<a hidden class=anchor aria-hidden=true href=#计算机的输入输出设备>#</a></h3><p>常见的输入输出设备</p><ul><li>常见输入设备<ul><li>字符输入设备</li><li>图像输入设备</li></ul></li></ul><p>输入输出接口的通用设计</p><ul><li>数据线<ul><li>是I/O设备与主机之间进行数据交换的传送线</li><li>单向传输数据线</li><li>双向传输数据线</li></ul></li><li>状态线<ul><li>IO设备状态向主机报告的信号线</li><li>查询设备是否已经正常连接并就绪</li><li>查询设备是否已经被占用</li></ul></li><li>命令线<ul><li>CPU向设备发送命令的信号线</li><li>发送读写信号</li><li>发送启动停止信号</li></ul></li><li>设备选择线<ul><li>主机选择I/O设备进行操作的信号线</li><li>对连在总线上的设备进行选择</li></ul></li></ul><p>CPU与IO设备的通信</p><ul><li>程序中断<ul><li>当外围IO设备就绪时，向CPU发出中断信号</li><li>CPU有专门的电路响应中断信号</li><li>提供低速设备通知CPU的一种异步的方式</li><li>CPU可以高速运转同事兼顾低速设备的响应</li></ul></li><li>DMA(直接存储器访问)<ul><li>DMA直接连接主存与IO设备</li><li>DMA工作时不需要CPU的参与</li></ul></li></ul><h3 id=计算机存储器概览>计算机存储器概览<a hidden class=anchor aria-hidden=true href=#计算机存储器概览>#</a></h3><h4 id=存储器的分类>存储器的分类<a hidden class=anchor aria-hidden=true href=#存储器的分类>#</a></h4><ul><li>按照存储介质<ul><li>半导体存储器。内存、U盘、固态硬盘</li><li>磁存储器。磁带、磁盘</li></ul></li><li>按照存取方式<ul><li>随机存储器(RAM)。随机读取、与位置无关</li><li>串行存储器。与位置有关、按顺序查找</li><li>只读存储器(ROM)。只读不写</li></ul></li></ul><h4 id=存储器的层次结构>存储器的层次结构<a hidden class=anchor aria-hidden=true href=#存储器的层次结构>#</a></h4><p>读写速度、存储容量、价格。位价：每比特位价格。</p><p>缓存、主存、辅存</p><ul><li>缓存-主存层次<ul><li>原理：局部性原理<ul><li>局部性原理是指CPU访问存储器时，无论是存取指令还是存取数据，所访问的存储单元都趋于聚集在一个较小的连续区域中。</li></ul></li><li>实现：在CPU与主存直接增加一层速度快（容量小）的Cache</li><li>目的：解决主存速度不足的问题</li></ul></li><li>主存-辅存层次<ul><li>原理：局部性原理</li><li>实现：主存之外增加辅助存储器（磁盘、SD卡、U盘等）</li><li>目的：解决主存容量不足的问题</li></ul></li></ul><h3 id=计算机的主存储器与辅助存储器>计算机的主存储器与辅助存储器<a hidden class=anchor aria-hidden=true href=#计算机的主存储器与辅助存储器>#</a></h3><ul><li>主存储器&ndash;内存<ul><li>RAM（随机存取存储器：Random Access Memory）</li><li>RAM通过电容存储数据，必须隔一段时间刷新一次</li><li>如果掉电，那么一段时间后将丢失所有数据</li></ul></li><li>辅助存储器&ndash;磁盘<ul><li>表面是可磁化的硬磁特性材料</li><li>移动磁头径向运动读取磁道信息</li><li>磁盘调度算法<ul><li>先来先服务算法<ul><li>按照顺序访问进程的磁道读写需求</li></ul></li><li>最短寻到时间优先<ul><li>与磁头当前位置有关</li><li>优先访问离磁头最近的磁道</li></ul></li><li>扫描算法（电梯算法）<ul><li>每次只往一个方向移动</li><li>到达一个方向需要服务的尽头再反方向移动</li></ul></li><li>循环扫描算法<ul><li>只往一个方向移动</li></ul></li></ul></li></ul></li></ul><h3 id=计算机的高速缓存>计算机的高速缓存<a hidden class=anchor aria-hidden=true href=#计算机的高速缓存>#</a></h3><ul><li>高速缓存的工作原理<ul><li>字：是指存放在一个存储单元中的二进制代码组合</li><li>字块：存储在连续的存储单元中而被看做是一个单元的一组字</li><li>字的地址包含两个部分。前m位指定字块的地址，后b位指定字在字块中的地址</li><li>命中率是衡量缓存的重要性能指标</li><li>理论上CPU每次都能从高速缓存存取数据的时候，命中率为1</li><li>命中率：h = Nc/(Nc+Nm)。访问效率：e = Tc/Ta = Tc/(hTc + (1-h)Tm)</li></ul></li><li>高速缓存的替换策略<ul><li>随机算法</li><li>先进先出算法 FIFO<ul><li>把高速缓存看做是一个先进先出的队列</li><li>优先替换最先进入队列的字块</li></ul></li><li>最不经常使用算法 LFU<ul><li>优先淘汰最不经常使用的字块</li><li>需要额外空间记录字块的使用频率</li></ul></li><li>最近最少使用算法 LRU<ul><li>优先淘汰一段时间内没有使用的字块</li><li>有多种实现方法，一般使用双向链表</li><li>把当前访问节点置于链表前面，保证链表头部节点是最近使用的。淘汰链表尾部节点</li></ul></li></ul></li></ul><h3 id=计算机的指令系统>计算机的指令系统<a hidden class=anchor aria-hidden=true href=#计算机的指令系统>#</a></h3><h4 id=机器指令的形式>机器指令的形式<a hidden class=anchor aria-hidden=true href=#机器指令的形式>#</a></h4><ul><li>机器指令主要由两部分组成：操作码、地址码</li><li>操作码指明指令所要完成的操作</li><li>操作码的位数反映了机器的操作种类</li><li>地址码直接给出操作数或者操作数的地址</li><li>分三地址指令、二地址指令、一地址指令、零地址指令<ul><li>零地址指令：在机器指令中无地址码。空操作、停机操作、中断返回操作等</li></ul></li></ul><h4 id=机器指令的操作类型>机器指令的操作类型<a hidden class=anchor aria-hidden=true href=#机器指令的操作类型>#</a></h4><ul><li>数据传输<ul><li>寄存器之间、寄存器与存储单元、存储单元之间传送</li><li>数据读写、交换地址数据、清零置一等操作</li></ul></li><li>算术逻辑操作<ul><li>操作数之间的加减乘除运算</li><li>操作数的与或非等逻辑位运算</li></ul></li><li>移位操作<ul><li>数据左移（乘2）、数据右移（除2）</li><li>完成数据在算术逻辑单元的必要操作</li></ul></li><li>控制指令<ul><li>等待指令、停机指令、空操作指令、中断指令等</li></ul></li></ul><h4 id=机器指令的寻址方式>机器指令的寻址方式<a hidden class=anchor aria-hidden=true href=#机器指令的寻址方式>#</a></h4><ul><li>指令寻址<ul><li>顺序寻址</li><li>跳跃寻址</li></ul></li><li>数据寻址<ul><li>立即寻址<ul><li>指令直接获取操作数，无需访问存储器</li></ul></li><li>直接寻址<ul><li>直接给出操作数在主存的地址</li><li>寻找操作数简单，无需计算数据地址</li></ul></li><li>间接寻址<ul><li>指令地址码给出的是操作数地址的地址</li><li>需要访问一次或多次主存来获取操作数</li></ul></li></ul></li></ul><h3 id=计算机的控制器>计算机的控制器<a hidden class=anchor aria-hidden=true href=#计算机的控制器>#</a></h3><p>控制器是协调和控制计算机运行的
控制器分为：</p><ul><li>程序计数器<ul><li>用来存储下一条指令的地址</li><li>循环从程序计数器中拿出指令</li><li>当指令被拿出时，指向下一条指令</li></ul></li><li>时序发生器<ul><li>电气工程领域，用于发送时序脉冲</li><li>CPU依据不同的时序脉冲有节奏的进行工作</li></ul></li><li>指令译码器<ul><li>控制器的主要部件之一</li><li>计算机指令由操作码和地址码组成</li><li>翻译操作码对应的操作以及控制传输地址码对应的数据</li></ul></li><li>各种寄存器<ul><li>指令寄存器<ul><li>也是控制器的主要部件之一</li><li>从主存或高速缓存取计算机指令</li></ul></li><li>主存地址寄存器<ul><li>保存当前CPU正要访问的内存单元的地址</li></ul></li><li>主存数据寄存器<ul><li>保存当前CPU正要读或写的主存数据</li></ul></li><li>通用寄存器<ul><li>用于暂时存放或传送数据或指令</li><li>可保存ALU的运算中间结果</li><li>容量比一般专用寄存器要大</li></ul></li></ul></li></ul><h3 id=计算机的运算器>计算机的运算器<a hidden class=anchor aria-hidden=true href=#计算机的运算器>#</a></h3><p>运算器是用来进行数据运算加工的</p><ul><li>数据缓冲器<ul><li>分为输入缓冲和输出缓冲</li><li>输入缓冲暂时存放外设送过来的数据</li><li>输出缓冲暂时存放送往外设的数据</li></ul></li><li>ALU<ul><li>ALU：算术逻辑单元，是计算机的主要组成</li><li>常见的位运算（左右移、与或非等）</li><li>算术运算（加减乘除等）</li></ul></li><li>通用寄存器<ul><li>用于暂时存放或传送数据或指令</li><li>可保存ALU的运算中间结果</li><li>容量比一般专用寄存器要大</li></ul></li><li>状态字寄存器<ul><li>存放运算状态（条件码、进位、溢出、结果正负等）</li><li>存放运算控制信息（调试跟踪标记位、允许中断位等）</li></ul></li></ul><h3 id=计算机指令的执行过程>计算机指令的执行过程<a hidden class=anchor aria-hidden=true href=#计算机指令的执行过程>#</a></h3><ul><li>指令执行过程<ul><li>取指令：从缓存取指令，送到指令寄存器</li><li>分析指令：指令译码器译码，发出控制信号，程序计数器+1</li><li>执行指令：装载数据到寄存器，ALU处理数据，记录运算状态，送出运算结果</li></ul></li><li>CPU的流水线设计<ul><li>类似工厂的装配线</li><li>工厂的装配线使得多个产品可以同时被加工</li><li>在同一个时刻，不同产品均位于不同的加工阶段</li></ul></li></ul><h2 id=计算机组成原理之计算>计算机组成原理之计算<a hidden class=anchor aria-hidden=true href=#计算机组成原理之计算>#</a></h2><h3 id=进制运算的基础>进制运算的基础<a hidden class=anchor aria-hidden=true href=#进制运算的基础>#</a></h3><p>进制概述</p><ul><li>进制的定义<ul><li>进位制是一种计数方式，亦称进位计数法或位值记数法</li><li>有限种数字符号来表示无限的数值</li><li>使用的数字符号的数目成为这种进位制的基数或底数</li></ul></li><li>常见的进制</li></ul><p>二进制运算的基础</p><ul><li>二进制转化十进制：按权展开法<ul><li><code>N = (01100101) = 1*2^6 + 1*2^5 + 1*2^2 + 1 = 101</code></li></ul></li><li>十进制转换二进制：重复相除法<ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/%e9%87%8d%e5%a4%8d%e7%9b%b8%e9%99%a4%e6%b3%95-20210508205206.png alt></li></ul></li><li>小数二进制转换十进制：按权展开法<ul><li><code>N = (0.11001) = 1*2^-1 + 1*2^-2 + 1*2^-5 = 0.78125 = 25/32</code></li></ul></li><li>小数十进制转二进制：重复想乘法<ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/%e5%b0%8f%e6%95%b0%e9%87%8d%e5%a4%8d%e7%9b%b8%e4%b9%98%e6%b3%95-20210508210339.png alt></li></ul></li></ul><h3 id=有符号数与无符号数>有符号数与无符号数<a hidden class=anchor aria-hidden=true href=#有符号数与无符号数>#</a></h3><ul><li>原码表示法<ul><li>使用0表示正数、1表示负数</li><li>规定符号位位于数值第一位</li><li>表达简单明了，是最容易理解的表示法</li></ul></li></ul><h3 id=二进制的不补码表示法>二进制的不补码表示法<a hidden class=anchor aria-hidden=true href=#二进制的不补码表示法>#</a></h3><ul><li>补码的定义<ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/%e8%a1%a5%e7%a0%81%e7%9a%84%e5%ae%9a%e4%b9%89-20210508212602.png alt></li><li>n=4,x=13。x的补码 = 源码 = 01101</li><li>x=-13。x的补码 = 2^5-13 = 100000-1101 = 10011</li></ul></li></ul><h3 id=二进制的反码表示法>二进制的反码表示法<a hidden class=anchor aria-hidden=true href=#二进制的反码表示法>#</a></h3><ul><li><p>反码的定义</p><ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/%e5%8f%8d%e7%a0%81%e7%9a%84%e5%ae%9a%e4%b9%89-20210508213951.png alt></li><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/%e5%8f%8d%e7%a0%81%e4%be%8b%e5%ad%90-20210508214142.png alt></li></ul></li><li><p>负数的反码等于原码除符号位外按位取反</p></li><li><p>负数的补码等于反码+1</p></li></ul><h3 id=小数的补码>小数的补码<a hidden class=anchor aria-hidden=true href=#小数的补码>#</a></h3><ul><li>二进制小数的补码<ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/%e4%ba%8c%e8%bf%9b%e5%88%b6%e5%b0%8f%e6%95%b0%e7%9a%84%e8%a1%a5%e7%a0%81-20210508214813.png alt></li><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/%e5%b0%8f%e6%95%b0%e7%9a%84%e8%a1%a5%e7%a0%81%e4%be%8b%e5%ad%90-20210508215104.png alt></li></ul></li></ul><h3 id=定点数与浮点数>定点数与浮点数<a hidden class=anchor aria-hidden=true href=#定点数与浮点数>#</a></h3><p>定点数的表示方法</p><ul><li>小数点固定在某个位置的数成为定点数</li><li>纯小数：小数点位于符号位和数值为之间</li><li>纯整数：小数点位于符号位和数值位之后</li><li>如果不是纯小数也不是纯整数，就需要乘以一个比例因子以满足定点数的保存格式</li><li>计算机处理的很大程度上不是纯小数或纯整数</li><li>数据范围很大，定点数难以表达
浮点数的表示方法</li><li>浮点数的表示格式<ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/%e6%b5%ae%e7%82%b9%e6%95%b0%e7%9a%84%e8%a1%a8%e7%a4%ba%e6%a0%bc%e5%bc%8f-20210508215836.png alt></li><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/%e6%b5%ae%e7%82%b9%e6%95%b0%e8%a1%a8%e7%a4%ba%e4%be%8b%e5%ad%90-20210508221840.png alt></li></ul></li><li>浮点数的表示范围<ul><li>假设阶码数值取m位，尾数取n位</li><li>阶码表示范围：[-(2^m-1),2^m-1]</li><li>尾数表示范围：[-(1-2^-n),-(2^-n)] [2^-n,1-2^-n]</li><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/%e6%b5%ae%e7%82%b9%e6%95%b0%e8%a1%a8%e7%a4%ba%e8%8c%83%e5%9b%b4-20210508222335.png alt></li><li>单精度浮点数：使用4字节、32位来表达浮点数 float</li><li>双精度浮点数：使用8字节、64位来表达浮点数 double</li></ul></li><li>浮点数的规格化<ul><li>尾数规定使用纯小数</li><li>尾数最高位必须是1
定点数与浮点数的对比</li></ul></li><li>当定点数与浮点数位数相同时，浮点数表示的范围更大</li><li>当浮点数尾数为规格化数时，浮点数的精度更高</li><li>浮点数运算包含阶码和尾数，浮点数的运算更为复杂</li><li>浮点数在数的表示范围、精度、溢出处理、编程等方便均优于定点数</li><li>浮点数在数的运算规则、运算速度、硬件成本方便不如定点数</li></ul><h3 id=定点数的加减法运算>定点数的加减法运算<a hidden class=anchor aria-hidden=true href=#定点数的加减法运算>#</a></h3><p>定点数的加法运算</p><ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/%e5%ae%9a%e7%82%b9%e6%95%b0%e7%9a%84%e5%8a%a0%e6%b3%95%e8%bf%90%e7%ae%97-20210508224736.png alt></li><li>数值位与符号位一同运算，并将符号位产生的进位自然丢掉<ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/%e5%ae%9a%e7%82%b9%e6%95%b0%e5%8a%a0%e6%b3%95%e4%be%8b%e5%ad%90-20210508224036.png alt></li></ul></li></ul><p>判断溢出</p><ul><li>双符号位判断法<ul><li>单符号位表示变成双符号位：0=>00,1=>11</li><li>双符号位产生的进位丢弃</li><li>结果的双符号位不同则表示溢出</li><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/%e5%8f%8c%e7%ac%a6%e5%8f%b7%e4%bd%8d%e5%88%a4%e6%96%ad%e6%ba%a2%e5%87%ba%e4%be%8b%e5%ad%90-20210508224509.png alt></li></ul></li></ul><p>定点数的减法运算</p><ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210508224925.png alt></li><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210508225030.png alt></li></ul><h3 id=浮点数的加减法运算>浮点数的加减法运算<a hidden class=anchor aria-hidden=true href=#浮点数的加减法运算>#</a></h3><p>运算步骤</p><ul><li>对阶<ul><li>对阶的目的是是的两个浮点数阶码一致，使得尾数可以进行运算</li><li>浮点数尾数运算简单</li><li>浮点数尾数实际小数位与阶码有关</li><li>阶码按小阶看齐大阶的原则</li><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210508225640.png alt></li></ul></li><li>尾数求和<ul><li>使用补码进行运算</li><li>减法运算转化为加法运算：A - B = A + (-B)</li><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210508225807.png alt></li></ul></li><li>尾数规格化<ul><li>对补码进行规格化需要判断两种情况：S>0和S&lt;0</li><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210508230010.png alt></li><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210508230128.png alt></li><li>尾数规格化（右移）<ul><li>一般情况下都是左移</li><li>双符号位不一致下需要右移（定点运算的溢出情况）</li><li>右移的话需要进行舍入操作</li></ul></li></ul></li><li>舍入<ul><li>“0舍1入”法（二进制的四舍五入）<ul><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210508230510.png alt></li></ul></li></ul></li><li>溢出判断<ul><li>浮点数运尾数双符号位不一致不算溢出，因为尾数双符号位可以右移进行规格化</li><li>浮点运算主要通过阶码的双符号位判断是否溢出</li><li>如果规格化后，阶码双符号位不一致，则认为溢出</li><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210508230912.png alt></li><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210508231004.png alt></li><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210508231046.png alt></li><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210508231140.png alt></li><li><img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210508231350.png alt></li></ul></li></ul><h3 id=浮点数的乘除法运算>浮点数的乘除法运算<a hidden class=anchor aria-hidden=true href=#浮点数的乘除法运算>#</a></h3><p>浮点数乘法
<img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210508231437.png alt></p><p>浮点数除法
<img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210508231525.png alt></p><p>例子
<img loading=lazy src=https://note-site-pic-1259606004.cos.ap-beijing.myqcloud.com/img/20210508231625.png alt></p><h2 id=计算机组成原理-实践>计算机组成原理 实践<a hidden class=anchor aria-hidden=true href=#计算机组成原理-实践>#</a></h2><h4 id=双向链表的原理与实践1>双向链表的原理与实践1<a hidden class=anchor aria-hidden=true href=#双向链表的原理与实践1>#</a></h4><ul><li>双向链表可以快速找到上一个节点（和下一个节点）</li><li>可以快速的去掉链表中的某一个节点</li></ul><p>代码：https://github.com/Cuiks/review</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://www.cuiks.top/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/>计算机组成原理</a></li></ul><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share 计算机组成原理 on twitter" href="https://twitter.com/intent/tweet/?text=%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bb%84%e6%88%90%e5%8e%9f%e7%90%86&url=https%3a%2f%2fwww.cuiks.top%2fposts%2fcomputer_basic%2f&hashtags=%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bb%84%e6%88%90%e5%8e%9f%e7%90%86"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512h-386.892c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892zm-253.927 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 计算机组成原理 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fwww.cuiks.top%2fposts%2fcomputer_basic%2f&title=%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bb%84%e6%88%90%e5%8e%9f%e7%90%86&summary=%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bb%84%e6%88%90%e5%8e%9f%e7%90%86&source=https%3a%2f%2fwww.cuiks.top%2fposts%2fcomputer_basic%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512h-386.892c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0v-129.439c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02v-126.056c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768h75.024zm-307.552-334.556c-25.674.0-42.448 16.879-42.448 39.002.0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 计算机组成原理 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fwww.cuiks.top%2fposts%2fcomputer_basic%2f&title=%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bb%84%e6%88%90%e5%8e%9f%e7%90%86"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512h-386.892c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zm-119.474 108.193c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zm-160.386-29.702c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 计算机组成原理 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.cuiks.top%2fposts%2fcomputer_basic%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978v-192.915h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 计算机组成原理 on whatsapp" href="https://api.whatsapp.com/send?text=%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bb%84%e6%88%90%e5%8e%9f%e7%90%86%20-%20https%3a%2f%2fwww.cuiks.top%2fposts%2fcomputer_basic%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512h-386.892c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23-13.314-11.876-22.304-26.542-24.916-31.026s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 计算机组成原理 on telegram" href="https://telegram.me/share/url?text=%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bb%84%e6%88%90%e5%8e%9f%e7%90%86&url=https%3a%2f%2fwww.cuiks.top%2fposts%2fcomputer_basic%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47A3.38 3.38.0 0126.49 29.86zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer><span id=/posts/computer_basic/ class=leancloud_visitors data-flag-title=计算机组成原理><span class=post-meta-item-text>文章阅读量</span>
<span class=leancloud-visitors-count>1000000</span><p></p></span><div id=vcomments></div><script src=//cdn1.lncld.net/static/js/3.0.4/av-min.js></script><script src=//unpkg.com/valine/dist/Valine.min.js></script><script type=text/javascript>new Valine({el:'#vcomments',appId:'qawpEGaIhzxE9qCJm9hisTxW-gzGzoHsz',appKey:'FkncojWQwaOzzkHjlvW0vH3b',notify:false,verify:false,avatar:'',placeholder:'说点什么吧...',visitor:true});</script></article></main><footer class=footer><span>&copy; 2021 <a href=https://www.cuiks.top>Note Site</a></span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script defer src=/assets/js/highlight.min.27cd435cc9ed6abb4b496581b151804f79f366c412620272bb94e2f5f598ebcc.js integrity="sha256-J81DXMntartLSWWBsVGAT3nzZsQSYgJyu5Ti9fWY68w=" onload=hljs.initHighlightingOnLoad();></script><script>window.onload=function(){if(localStorage.getItem("menu-scroll-position")){document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position");}}
function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft);}
document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",function(e){e.preventDefault();var id=this.getAttribute("href").substr(1);if(!window.matchMedia('(prefers-reduced-motion: reduce)').matches){document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({behavior:"smooth"});}else{document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();}
if(id==="top"){history.replaceState(null,null," ");}else{history.pushState(null,null,`#${id}`);}});});</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){if(document.body.scrollTop>800||document.documentElement.scrollTop>800){mybutton.style.visibility="visible";mybutton.style.opacity="1";}else{mybutton.style.visibility="hidden";mybutton.style.opacity="0";}};</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{if(document.body.className.includes("dark")){document.body.classList.remove('dark');localStorage.setItem("pref-theme",'light');}else{document.body.classList.add('dark');localStorage.setItem("pref-theme",'dark');}})</script></body></html>